<?xml version="1.0" encoding="UTF-8"?>

<StructureMap xmlns="http://hl7.org/fhir">
  <id value="SDOHCC-StructureMapHungerVitalSign"/>
  <url value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureMap/SDOHCC-StructureMapHungerVitalSign"/>
  <name value="SDOHCCStructureMapHungerVitalSign"/>
  <structure>
    <url value="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaireresponse"/>
    <mode value="source"/>
    <alias value="questionnaireResponse"/>
  </structure>
  <structure>
    <url value="http://hl7.org/fhir/StructureDefinition/Bundle"/>
    <mode value="target"/>
  </structure>
  <structure>
    <url value="http://hl7.org/fhir/StructureDefinition/Observation"/>
    <mode value="target"/>
  </structure>
  <structure>
    <url value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Condition"/>
    <mode value="target"/>
    <alias value="sdohccCondition"/>
  </structure>
  <structure>
    <url value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse"/>
    <mode value="target"/>
    <alias value="sdohccObservation"/>
  </structure>
  <group>
    <name value="sdohMapping"/>
    <typeMode value="none"/>
    <input>
      <name value="src"/>
      <type value="questionnaireResponse"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="bundle"/>
      <type value="Bundle"/>
      <mode value="target"/>
    </input>
    <rule>
      <name value="bundle-id"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="bundle"/>
        <contextType value="variable"/>
        <element value="id"/>
        <transform value="copy"/>
        <parameter>
          <valueString value="SDOHCC-BundleHungerVitalSignExample"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="bundle-type"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="bundle"/>
        <contextType value="variable"/>
        <element value="type"/>
        <transform value="copy"/>
        <parameter>
          <valueString value="transaction"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="item"/>
      <source>
        <context value="src"/>
        <element value="item"/>
        <variable value="answerItem1"/>
        <condition value="linkId = '/88122-7'"/>
      </source>
      <target>
        <context value="bundle"/>
        <contextType value="variable"/>
        <element value="entry"/>
        <variable value="entry"/>
      </target>
      <target>
        <context value="entry"/>
        <contextType value="variable"/>
        <element value="resource"/>
        <variable value="observation1"/>
        <transform value="create"/>
        <parameter>
          <valueString value="sdohccObservation"/>
        </parameter>
      </target>
      <dependent>
        <name value="TransformObservation"/>
        <variable value="src">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="answerItem1">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="observation1">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="entry">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
      </dependent>
      <dependent>
        <name value="TransformObservation1"/>
        <variable value="src">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="answerItem1">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="observation1">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="entry">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
      </dependent>
    </rule>
    <rule>
      <name value="item"/>
      <source>
        <context value="src"/>
        <element value="item"/>
        <variable value="answerItem2"/>
        <condition value="linkId = '/88123-5'"/>
      </source>
      <target>
        <context value="bundle"/>
        <contextType value="variable"/>
        <element value="entry"/>
        <variable value="entry"/>
      </target>
      <target>
        <context value="entry"/>
        <contextType value="variable"/>
        <element value="resource"/>
        <variable value="observation2"/>
        <transform value="create"/>
        <parameter>
          <valueString value="sdohccObservation"/>
        </parameter>
      </target>
      <dependent>
        <name value="TransformObservation"/>
        <variable value="src">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="answerItem2">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="observation2">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="entry">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
      </dependent>
      <dependent>
        <name value="TransformObservation2"/>
        <variable value="src">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="answerItem2">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="observation2">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="entry">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
      </dependent>
    </rule>
    <rule>
      <name value="item"/>
      <source>
        <context value="src"/>
        <element value="item"/>
        <variable value="answerItem3"/>
        <condition value="linkId = '/88124-3'"/>
      </source>
      <target>
        <context value="bundle"/>
        <contextType value="variable"/>
        <element value="entry"/>
        <variable value="entry"/>
      </target>
      <target>
        <context value="entry"/>
        <contextType value="variable"/>
        <element value="resource"/>
        <variable value="observation3"/>
        <transform value="create"/>
        <parameter>
          <valueString value="sdohccObservation"/>
        </parameter>
      </target>
      <dependent>
        <name value="TransformObservation"/>
        <variable value="src">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="answerItem3">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="observation3">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="entry">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
      </dependent>
      <dependent>
        <name value="TransformObservation3"/>
        <variable value="src">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="answerItem3">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="bundle">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="observation3">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="entry">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
      </dependent>
    </rule>
    <rule>
      <name value="group-obsn"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="bundle"/>
        <contextType value="variable"/>
        <element value="entry"/>
        <variable value="entry"/>
      </target>
      <target>
        <context value="entry"/>
        <contextType value="variable"/>
        <element value="resource"/>
        <variable value="groupObservation"/>
        <transform value="create"/>
        <parameter>
          <valueString value="sdohccObservation"/>
        </parameter>
      </target>
      <dependent>
        <name value="TransformGroupObservation"/>
        <variable value="src">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="bundle">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="groupObservation">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="entry">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
      </dependent>
    </rule>
    <rule>
      <name value="item"/>
      <source>
        <context value="src"/>
        <element value="item"/>
        <condition value="(linkId = '/88124-3') and (answer.value.code = 'LA19952-3')"/>
      </source>
      <target>
        <context value="bundle"/>
        <contextType value="variable"/>
        <element value="entry"/>
        <variable value="entry"/>
      </target>
      <target>
        <context value="entry"/>
        <contextType value="variable"/>
        <element value="resource"/>
        <variable value="condition"/>
        <transform value="create"/>
        <parameter>
          <valueString value="sdohccCondition"/>
        </parameter>
      </target>
      <dependent>
        <name value="TransformCondition"/>
        <variable value="src">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="bundle">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="condition">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="entry">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
      </dependent>
    </rule>
  </group>
  <group>
    <name value="TransformObservation"/>
    <typeMode value="none"/>
    <input>
      <name value="src"/>
      <type value="questionnaireResponse"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="answerItem"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="observation"/>
      <type value="sdohccObservation"/>
      <mode value="target"/>
    </input>
    <input>
      <name value="entry"/>
      <mode value="target"/>
    </input>
    <rule>
      <name value="obsn-status"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="status"/>
        <transform value="copy"/>
        <parameter>
          <valueString value="final"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="obsn-meta"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="meta"/>
        <variable value="newMeta"/>
        <transform value="create"/>
        <parameter>
          <valueString value="Meta"/>
        </parameter>
      </target>
      <rule>
        <name value="obsn-meta-profile"/>
        <source>
          <context value="src"/>
        </source>
        <target>
          <context value="newMeta"/>
          <contextType value="variable"/>
          <element value="profile"/>
          <transform value="copy"/>
          <parameter>
            <valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse"/>
          </parameter>
        </target>
      </rule>
    </rule>
    <rule>
      <name value="obsn-cat-social-hist"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="category"/>
        <transform value="cc"/>
        <parameter>
          <valueString value="http://terminology.hl7.org/CodeSystem/observation-category"/>
        </parameter>
        <parameter>
          <valueString value="social-history"/>
        </parameter>
        <parameter>
          <valueString value="Social History"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="obsn-cat-survey"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="category"/>
        <transform value="cc"/>
        <parameter>
          <valueString value="http://terminology.hl7.org/CodeSystem/observation-category"/>
        </parameter>
        <parameter>
          <valueString value="survey"/>
        </parameter>
        <parameter>
          <valueString value="Survey"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="obsn-cat-food-insecurity"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="category"/>
        <variable value="newCC"/>
        <transform value="create"/>
        <parameter>
          <valueString value="CodeableConcept"/>
        </parameter>
      </target>
      <rule>
        <name value="obsn-cat-coding"/>
        <source>
          <context value="src"/>
        </source>
        <target>
          <context value="newCC"/>
          <contextType value="variable"/>
          <element value="coding"/>
          <variable value="newCoding"/>
          <transform value="create"/>
          <parameter>
            <valueString value="Coding"/>
          </parameter>
        </target>
        <rule>
          <name value="obsn-cat-coding-system"/>
          <source>
            <context value="src"/>
          </source>
          <target>
            <context value="newCoding"/>
            <contextType value="variable"/>
            <element value="system"/>
            <transform value="copy"/>
            <parameter>
              <valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
            </parameter>
          </target>
        </rule>
        <rule>
          <name value="obsn-cat-coding-code"/>
          <source>
            <context value="src"/>
          </source>
          <target>
            <context value="newCoding"/>
            <contextType value="variable"/>
            <element value="code"/>
            <transform value="copy"/>
            <parameter>
              <valueString value="food-insecurity"/>
            </parameter>
          </target>
        </rule>
        <rule>
          <name value="obsn-cat-coding-display"/>
          <source>
            <context value="src"/>
          </source>
          <target>
            <context value="newCoding"/>
            <contextType value="variable"/>
            <element value="display"/>
            <transform value="copy"/>
            <parameter>
              <valueString value="Food Insecurity"/>
            </parameter>
          </target>
        </rule>
      </rule>
    </rule>
    <rule>
      <name value="authored"/>
      <source>
        <context value="src"/>
        <element value="authored"/>
        <variable value="authored"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="issued"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="authored"/>
        </parameter>
      </target>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="effective"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="authored"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="answer"/>
      <source>
        <context value="answerItem"/>
        <element value="answer"/>
        <variable value="answer"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="value"/>
        <variable value="newCC"/>
        <transform value="create"/>
        <parameter>
          <valueString value="CodeableConcept"/>
        </parameter>
      </target>
      <rule>
        <name value="value"/>
        <source>
          <context value="answer"/>
          <element value="value"/>
          <variable value="coding"/>
        </source>
        <target>
          <context value="newCC"/>
          <contextType value="variable"/>
          <element value="coding"/>
          <variable value="newCoding"/>
          <transform value="copy"/>
          <parameter>
            <valueId value="coding"/>
          </parameter>
        </target>
      </rule>
    </rule>
    <rule>
      <name value="subject"/>
      <source>
        <context value="src"/>
        <element value="subject"/>
        <variable value="qSubject"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="subject"/>
        <variable value="newReference"/>
        <transform value="create"/>
        <parameter>
          <valueString value="Reference"/>
        </parameter>
      </target>
      <rule>
        <name value="reference"/>
        <source>
          <context value="qSubject"/>
          <element value="reference"/>
          <variable value="qReference"/>
        </source>
        <target>
          <context value="newReference"/>
          <contextType value="variable"/>
          <element value="reference"/>
          <transform value="copy"/>
          <parameter>
            <valueId value="qReference"/>
          </parameter>
        </target>
      </rule>
      <rule>
        <name value="display"/>
        <source>
          <context value="qSubject"/>
          <element value="display"/>
          <variable value="qDisplay"/>
        </source>
        <target>
          <context value="newReference"/>
          <contextType value="variable"/>
          <element value="display"/>
          <transform value="copy"/>
          <parameter>
            <valueId value="qDisplay"/>
          </parameter>
        </target>
      </rule>
    </rule>
    <rule>
      <name value="obsn-entry-request"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="entry"/>
        <contextType value="variable"/>
        <element value="request"/>
        <variable value="request"/>
      </target>
      <rule>
        <name value="obsn-request-method"/>
        <source>
          <context value="src"/>
        </source>
        <target>
          <context value="request"/>
          <contextType value="variable"/>
          <element value="method"/>
          <transform value="copy"/>
          <parameter>
            <valueString value="POST"/>
          </parameter>
        </target>
      </rule>
      <rule>
        <name value="obsn-request-url"/>
        <source>
          <context value="src"/>
        </source>
        <target>
          <context value="request"/>
          <contextType value="variable"/>
          <element value="url"/>
          <transform value="copy"/>
          <parameter>
            <valueString value="Observation"/>
          </parameter>
        </target>
      </rule>
    </rule>
  </group>
  <group>
    <name value="TransformObservation1"/>
    <typeMode value="none"/>
    <input>
      <name value="src"/>
      <type value="questionnaireResponse"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="item"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="observation"/>
      <type value="sdohccObservation"/>
      <mode value="target"/>
    </input>
    <input>
      <name value="entry"/>
      <mode value="target"/>
    </input>
    <rule>
      <name value="obsn1-id"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="id"/>
        <transform value="copy"/>
        <parameter>
          <valueString value="SDOHCC-ObservationResponseHungerVitalSignQuestion1Example"/>
        </parameter>
      </target>
      <dependent>
        <name value="SetObservationFullUrl"/>
        <variable value="observation">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="entry">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
      </dependent>
    </rule>
    <rule>
      <name value="obsn1-code"/>
      <source>
        <context value="item"/>
        <variable value="i"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="code"/>
        <variable value="code"/>
        <transform value="cc"/>
        <parameter>
          <valueString value="http://loinc.org"/>
        </parameter>
        <parameter>
          <valueString value="88122-7"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="subject"/>
      <source>
        <context value="src"/>
        <element value="subject"/>
        <variable value="qSubject"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="performer"/>
        <variable value="newReference"/>
        <transform value="create"/>
        <parameter>
          <valueString value="Reference"/>
        </parameter>
      </target>
      <rule>
        <name value="reference"/>
        <source>
          <context value="qSubject"/>
          <element value="reference"/>
          <variable value="qReference"/>
        </source>
        <target>
          <context value="newReference"/>
          <contextType value="variable"/>
          <element value="reference"/>
          <transform value="copy"/>
          <parameter>
            <valueId value="qReference"/>
          </parameter>
        </target>
      </rule>
      <rule>
        <name value="display"/>
        <source>
          <context value="qSubject"/>
          <element value="display"/>
          <variable value="qDisplay"/>
        </source>
        <target>
          <context value="newReference"/>
          <contextType value="variable"/>
          <element value="display"/>
          <transform value="copy"/>
          <parameter>
            <valueId value="qDisplay"/>
          </parameter>
        </target>
      </rule>
    </rule>
    <rule>
      <name value="id"/>
      <source>
        <context value="src"/>
        <element value="id"/>
        <variable value="id"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="derivedFrom"/>
        <variable value="newReference"/>
        <transform value="create"/>
        <parameter>
          <valueString value="Reference"/>
        </parameter>
      </target>
      <rule>
        <name value="obsn1-derived-from"/>
        <source>
          <context value="id"/>
        </source>
        <target>
          <context value="newReference"/>
          <contextType value="variable"/>
          <element value="reference"/>
          <transform value="append"/>
          <parameter>
            <valueString value="QuestionnaireResponse/"/>
          </parameter>
          <parameter>
            <valueId value="id"/>
          </parameter>
        </target>
      </rule>
    </rule>
  </group>
  <group>
    <name value="TransformObservation2"/>
    <typeMode value="none"/>
    <input>
      <name value="src"/>
      <type value="questionnaireResponse"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="item"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="observation"/>
      <type value="sdohccObservation"/>
      <mode value="target"/>
    </input>
    <input>
      <name value="entry"/>
      <mode value="target"/>
    </input>
    <rule>
      <name value="obns2-id"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="id"/>
        <transform value="copy"/>
        <parameter>
          <valueString value="SDOHCC-ObservationResponseHungerVitalSignQuestion2Example"/>
        </parameter>
      </target>
      <dependent>
        <name value="SetObservationFullUrl"/>
        <variable value="observation">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="entry">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
      </dependent>
    </rule>
    <rule>
      <name value="obns2-code"/>
      <source>
        <context value="item"/>
        <variable value="i"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="code"/>
        <variable value="code"/>
        <transform value="cc"/>
        <parameter>
          <valueString value="http://loinc.org"/>
        </parameter>
        <parameter>
          <valueString value="88123-5"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="subject"/>
      <source>
        <context value="src"/>
        <element value="subject"/>
        <variable value="qSubject"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="performer"/>
        <variable value="newReference"/>
        <transform value="create"/>
        <parameter>
          <valueString value="Reference"/>
        </parameter>
      </target>
      <rule>
        <name value="reference"/>
        <source>
          <context value="qSubject"/>
          <element value="reference"/>
          <variable value="qReference"/>
        </source>
        <target>
          <context value="newReference"/>
          <contextType value="variable"/>
          <element value="reference"/>
          <transform value="copy"/>
          <parameter>
            <valueId value="qReference"/>
          </parameter>
        </target>
      </rule>
      <rule>
        <name value="display"/>
        <source>
          <context value="qSubject"/>
          <element value="display"/>
          <variable value="qDisplay"/>
        </source>
        <target>
          <context value="newReference"/>
          <contextType value="variable"/>
          <element value="display"/>
          <transform value="copy"/>
          <parameter>
            <valueId value="qDisplay"/>
          </parameter>
        </target>
      </rule>
    </rule>
    <rule>
      <name value="id"/>
      <source>
        <context value="src"/>
        <element value="id"/>
        <variable value="id"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="derivedFrom"/>
        <variable value="newReference"/>
        <transform value="create"/>
        <parameter>
          <valueString value="Reference"/>
        </parameter>
      </target>
      <rule>
        <name value="obsn2-derived-from"/>
        <source>
          <context value="id"/>
        </source>
        <target>
          <context value="newReference"/>
          <contextType value="variable"/>
          <element value="reference"/>
          <transform value="append"/>
          <parameter>
            <valueString value="QuestionnaireResponse/"/>
          </parameter>
          <parameter>
            <valueId value="id"/>
          </parameter>
        </target>
      </rule>
    </rule>
  </group>
  <group>
    <name value="TransformObservation3"/>
    <typeMode value="none"/>
    <input>
      <name value="src"/>
      <type value="questionnaireResponse"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="item"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="bundle"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="observation"/>
      <type value="sdohccObservation"/>
      <mode value="target"/>
    </input>
    <input>
      <name value="entry"/>
      <mode value="target"/>
    </input>
    <rule>
      <name value="obsn3-id"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="id"/>
        <transform value="copy"/>
        <parameter>
          <valueString value="SDOHCC-ObservationResponseHungerVitalSignQuestion3Example"/>
        </parameter>
      </target>
      <dependent>
        <name value="SetObservationFullUrl"/>
        <variable value="observation">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="entry">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
      </dependent>
    </rule>
    <rule>
      <name value="obsn3-code"/>
      <source>
        <context value="item"/>
        <variable value="i"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="code"/>
        <variable value="code"/>
        <transform value="cc"/>
        <parameter>
          <valueString value="http://loinc.org"/>
        </parameter>
        <parameter>
          <valueString value="88124-3"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="obsn3-derivedFrom"/>
      <source>
        <context value="bundle"/>
        <element value="entry"/>
        <variable value="entries"/>
      </source>
      <target>
        <context value="observation"/>
        <contextType value="variable"/>
        <element value="derivedFrom"/>
        <variable value="df"/>
        <transform value="create"/>
        <parameter>
          <valueString value="Reference"/>
        </parameter>
      </target>
      <dependent>
        <name value="TransformObservationDerived"/>
        <variable value="entries">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="df">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
      </dependent>
    </rule>
  </group>
  <group>
    <name value="TransformObservationDerived"/>
    <typeMode value="none"/>
    <input>
      <name value="entries"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="df"/>
      <mode value="target"/>
    </input>
    <rule>
      <name value="resource"/>
      <source>
        <context value="entries"/>
        <element value="resource"/>
        <variable value="obs1"/>
        <condition value="code.coding.code = '88122-7'"/>
      </source>
      <target>
        <context value="df"/>
        <contextType value="variable"/>
        <element value="reference"/>
        <transform value="reference"/>
        <parameter>
          <valueId value="obs1"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="resource"/>
      <source>
        <context value="entries"/>
        <element value="resource"/>
        <variable value="obs2"/>
        <condition value="code.coding.code = '88123-5'"/>
      </source>
      <target>
        <context value="df"/>
        <contextType value="variable"/>
        <element value="reference"/>
        <transform value="reference"/>
        <parameter>
          <valueId value="obs2"/>
        </parameter>
      </target>
    </rule>
  </group>
  <group>
    <name value="TransformGroupObservation"/>
    <typeMode value="none"/>
    <input>
      <name value="src"/>
      <type value="questionnaireResponse"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="bundle"/>
      <type value="Bundle"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="groupObservation"/>
      <type value="Observation"/>
      <mode value="target"/>
    </input>
    <input>
      <name value="entry"/>
      <mode value="target"/>
    </input>
    <rule>
      <name value="grp-obsn-meta"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="groupObservation"/>
        <contextType value="variable"/>
        <element value="meta"/>
        <variable value="newMeta"/>
        <transform value="create"/>
        <parameter>
          <valueString value="Meta"/>
        </parameter>
      </target>
      <rule>
        <name value="grp-obsn-meta-profile"/>
        <source>
          <context value="src"/>
        </source>
        <target>
          <context value="newMeta"/>
          <contextType value="variable"/>
          <element value="profile"/>
          <transform value="copy"/>
          <parameter>
            <valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse"/>
          </parameter>
        </target>
      </rule>
    </rule>
    <rule>
      <name value="grp-obsn-full-url"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="groupObservation"/>
        <contextType value="variable"/>
        <element value="id"/>
        <transform value="copy"/>
        <parameter>
          <valueString value="SDOHCC-ObservationResponseHungerVitalSignGroupingExample"/>
        </parameter>
      </target>
      <dependent>
        <name value="SetObservationFullUrl"/>
        <variable value="groupObservation">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="entry">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
      </dependent>
    </rule>
    <rule>
      <name value="grp-obsn-full-status"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="groupObservation"/>
        <contextType value="variable"/>
        <element value="status"/>
        <transform value="copy"/>
        <parameter>
          <valueString value="final"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="grp-obsn-cat-social-history"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="groupObservation"/>
        <contextType value="variable"/>
        <element value="category"/>
        <transform value="cc"/>
        <parameter>
          <valueString value="http://terminology.hl7.org/CodeSystem/observation-category"/>
        </parameter>
        <parameter>
          <valueString value="social-history"/>
        </parameter>
        <parameter>
          <valueString value="Social History"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="grp-obsn-cat-survey"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="groupObservation"/>
        <contextType value="variable"/>
        <element value="category"/>
        <transform value="cc"/>
        <parameter>
          <valueString value="http://terminology.hl7.org/CodeSystem/observation-category"/>
        </parameter>
        <parameter>
          <valueString value="survey"/>
        </parameter>
        <parameter>
          <valueString value="Survey"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="grp-obsn-cat-food-insecurity"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="groupObservation"/>
        <contextType value="variable"/>
        <element value="category"/>
        <variable value="newCC"/>
        <transform value="create"/>
        <parameter>
          <valueString value="CodeableConcept"/>
        </parameter>
      </target>
      <rule>
        <name value="grp-obsn-cat-coding"/>
        <source>
          <context value="src"/>
        </source>
        <target>
          <context value="newCC"/>
          <contextType value="variable"/>
          <element value="coding"/>
          <variable value="newCoding"/>
          <transform value="create"/>
          <parameter>
            <valueString value="Coding"/>
          </parameter>
        </target>
        <rule>
          <name value="grp-obsn-cat-coding-system"/>
          <source>
            <context value="src"/>
          </source>
          <target>
            <context value="newCoding"/>
            <contextType value="variable"/>
            <element value="system"/>
            <transform value="copy"/>
            <parameter>
              <valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
            </parameter>
          </target>
        </rule>
        <rule>
          <name value="grp-obsn-cat-coding-code"/>
          <source>
            <context value="src"/>
          </source>
          <target>
            <context value="newCoding"/>
            <contextType value="variable"/>
            <element value="code"/>
            <transform value="copy"/>
            <parameter>
              <valueString value="food-insecurity"/>
            </parameter>
          </target>
        </rule>
        <rule>
          <name value="grp-obsn-cat-coding-display"/>
          <source>
            <context value="src"/>
          </source>
          <target>
            <context value="newCoding"/>
            <contextType value="variable"/>
            <element value="display"/>
            <transform value="copy"/>
            <parameter>
              <valueString value="Food Insecurity"/>
            </parameter>
          </target>
        </rule>
      </rule>
    </rule>
    <rule>
      <name value="grp-obsn-authored"/>
      <source>
        <context value="src"/>
        <element value="authored"/>
        <variable value="authored"/>
      </source>
      <target>
        <context value="groupObservation"/>
        <contextType value="variable"/>
        <element value="effective"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="authored"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="subject"/>
      <source>
        <context value="src"/>
        <element value="subject"/>
        <variable value="qSubject"/>
      </source>
      <target>
        <context value="groupObservation"/>
        <contextType value="variable"/>
        <element value="subject"/>
        <variable value="newReference"/>
        <transform value="create"/>
        <parameter>
          <valueString value="Reference"/>
        </parameter>
      </target>
      <rule>
        <name value="reference"/>
        <source>
          <context value="qSubject"/>
          <element value="reference"/>
          <variable value="qReference"/>
        </source>
        <target>
          <context value="newReference"/>
          <contextType value="variable"/>
          <element value="reference"/>
          <transform value="copy"/>
          <parameter>
            <valueId value="qReference"/>
          </parameter>
        </target>
      </rule>
      <rule>
        <name value="display"/>
        <source>
          <context value="qSubject"/>
          <element value="display"/>
          <variable value="qDisplay"/>
        </source>
        <target>
          <context value="newReference"/>
          <contextType value="variable"/>
          <element value="display"/>
          <transform value="copy"/>
          <parameter>
            <valueId value="qDisplay"/>
          </parameter>
        </target>
      </rule>
    </rule>
    <rule>
      <name value="grp-obsn-code"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="groupObservation"/>
        <contextType value="variable"/>
        <element value="code"/>
        <transform value="cc"/>
        <parameter>
          <valueString value="http://loinc.org"/>
        </parameter>
        <parameter>
          <valueString value="88121-9"/>
        </parameter>
        <parameter>
          <valueString value="Hunger Vital Sign [HVS]"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="entry"/>
      <source>
        <context value="bundle"/>
        <element value="entry"/>
        <variable value="entries"/>
      </source>
      <target>
        <context value="groupObservation"/>
        <contextType value="variable"/>
        <element value="hasMember"/>
        <variable value="df"/>
        <transform value="create"/>
        <parameter>
          <valueString value="Reference"/>
        </parameter>
      </target>
      <rule>
        <name value="resource"/>
        <source>
          <context value="entries"/>
          <element value="resource"/>
          <variable value="obs1"/>
          <condition value="code.coding.code = '88122-7'"/>
        </source>
        <target>
          <context value="df"/>
          <contextType value="variable"/>
          <element value="reference"/>
          <transform value="reference"/>
          <parameter>
            <valueId value="obs1"/>
          </parameter>
        </target>
      </rule>
      <rule>
        <name value="resource"/>
        <source>
          <context value="entries"/>
          <element value="resource"/>
          <variable value="obs2"/>
          <condition value="code.coding.code = '88123-5'"/>
        </source>
        <target>
          <context value="df"/>
          <contextType value="variable"/>
          <element value="reference"/>
          <transform value="reference"/>
          <parameter>
            <valueId value="obs2"/>
          </parameter>
        </target>
      </rule>
      <rule>
        <name value="resource"/>
        <source>
          <context value="entries"/>
          <element value="resource"/>
          <variable value="obs3"/>
          <condition value="code.coding.code = '88124-3'"/>
        </source>
        <target>
          <context value="df"/>
          <contextType value="variable"/>
          <element value="reference"/>
          <transform value="reference"/>
          <parameter>
            <valueId value="obs3"/>
          </parameter>
        </target>
      </rule>
    </rule>
    <rule>
      <name value="id"/>
      <source>
        <context value="src"/>
        <element value="id"/>
        <variable value="id"/>
      </source>
      <target>
        <context value="groupObservation"/>
        <contextType value="variable"/>
        <element value="derivedFrom"/>
        <variable value="newReference"/>
        <transform value="create"/>
        <parameter>
          <valueString value="Reference"/>
        </parameter>
      </target>
      <rule>
        <name value="grp-obsn-derived-from"/>
        <source>
          <context value="id"/>
        </source>
        <target>
          <context value="newReference"/>
          <contextType value="variable"/>
          <element value="reference"/>
          <transform value="append"/>
          <parameter>
            <valueString value="QuestionnaireResponse/"/>
          </parameter>
          <parameter>
            <valueId value="id"/>
          </parameter>
        </target>
      </rule>
    </rule>
    <rule>
      <name value="grp-obsn-entry-request"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="entry"/>
        <contextType value="variable"/>
        <element value="request"/>
        <variable value="request"/>
      </target>
      <rule>
        <name value="grp-obsn-request-method"/>
        <source>
          <context value="src"/>
        </source>
        <target>
          <context value="request"/>
          <contextType value="variable"/>
          <element value="method"/>
          <transform value="copy"/>
          <parameter>
            <valueString value="POST"/>
          </parameter>
        </target>
      </rule>
      <rule>
        <name value="grp-obsn-request-url"/>
        <source>
          <context value="src"/>
        </source>
        <target>
          <context value="request"/>
          <contextType value="variable"/>
          <element value="url"/>
          <transform value="copy"/>
          <parameter>
            <valueString value="Observation"/>
          </parameter>
        </target>
      </rule>
    </rule>
  </group>
  <group>
    <name value="SetObservationFullUrl"/>
    <typeMode value="none"/>
    <input>
      <name value="observation"/>
      <type value="Observation"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="entry"/>
      <mode value="target"/>
    </input>
    <rule>
      <name value="id"/>
      <source>
        <context value="observation"/>
        <element value="id"/>
        <variable value="id"/>
      </source>
      <target>
        <context value="entry"/>
        <contextType value="variable"/>
        <element value="fullUrl"/>
        <transform value="append"/>
        <parameter>
          <valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/Observation/"/>
        </parameter>
        <parameter>
          <valueId value="id"/>
        </parameter>
      </target>
    </rule>
  </group>
  <group>
    <name value="TransformCondition"/>
    <typeMode value="none"/>
    <input>
      <name value="src"/>
      <type value="questionnaireResponse"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="bundle"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="condition"/>
      <type value="sdohccCondition"/>
      <mode value="target"/>
    </input>
    <input>
      <name value="entry"/>
      <mode value="target"/>
    </input>
    <rule>
      <name value="condition-id"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="condition"/>
        <contextType value="variable"/>
        <element value="id"/>
        <transform value="copy"/>
        <parameter>
          <valueString value="SDOHCC-ConditionFoodInsecurityExample"/>
        </parameter>
      </target>
      <dependent>
        <name value="SetConditionFullUrl"/>
        <variable value="condition">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
        <variable value="entry">
          <extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
            <valueUrl value="id"/>
          </extension>
        </variable>
      </dependent>
    </rule>
    <rule>
      <name value="condition-meta"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="condition"/>
        <contextType value="variable"/>
        <element value="meta"/>
        <variable value="newMeta"/>
        <transform value="create"/>
        <parameter>
          <valueString value="Meta"/>
        </parameter>
      </target>
      <rule>
        <name value="condition-meta-profile"/>
        <source>
          <context value="src"/>
        </source>
        <target>
          <context value="newMeta"/>
          <contextType value="variable"/>
          <element value="profile"/>
          <transform value="copy"/>
          <parameter>
            <valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Condition"/>
          </parameter>
        </target>
      </rule>
    </rule>
    <rule>
      <name value="condition-clinical-status"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="condition"/>
        <contextType value="variable"/>
        <element value="clinicalStatus"/>
        <transform value="cc"/>
        <parameter>
          <valueString value="http://terminology.hl7.org/CodeSystem/condition-clinical"/>
        </parameter>
        <parameter>
          <valueString value="active"/>
        </parameter>
        <parameter>
          <valueString value="Active"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="condition-veri-status"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="condition"/>
        <contextType value="variable"/>
        <element value="verificationStatus"/>
        <transform value="cc"/>
        <parameter>
          <valueString value="http://terminology.hl7.org/CodeSystem/condition-ver-status"/>
        </parameter>
        <parameter>
          <valueString value="unconfirmed"/>
        </parameter>
        <parameter>
          <valueString value="Unconfirmed"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="condition-cat-health-concern"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="condition"/>
        <contextType value="variable"/>
        <element value="category"/>
        <variable value="newCC"/>
        <transform value="create"/>
        <parameter>
          <valueString value="CodeableConcept"/>
        </parameter>
      </target>
      <rule>
        <name value="condition-cat-coding-health-concern"/>
        <source>
          <context value="src"/>
        </source>
        <target>
          <context value="newCC"/>
          <contextType value="variable"/>
          <element value="coding"/>
          <variable value="newCoding"/>
          <transform value="create"/>
          <parameter>
            <valueString value="Coding"/>
          </parameter>
        </target>
        <rule>
          <name value="condition-cat-coding-system-health-concern"/>
          <source>
            <context value="src"/>
          </source>
          <target>
            <context value="newCoding"/>
            <contextType value="variable"/>
            <element value="system"/>
            <transform value="copy"/>
            <parameter>
              <valueString value="http://hl7.org/fhir/us/core/CodeSystem/condition-category"/>
            </parameter>
          </target>
        </rule>
        <rule>
          <name value="condition-cat-coding-code-health-concern"/>
          <source>
            <context value="src"/>
          </source>
          <target>
            <context value="newCoding"/>
            <contextType value="variable"/>
            <element value="code"/>
            <transform value="copy"/>
            <parameter>
              <valueString value="health-concern"/>
            </parameter>
          </target>
        </rule>
        <rule>
          <name value="condition-cat-coding-display-health-concern"/>
          <source>
            <context value="src"/>
          </source>
          <target>
            <context value="newCoding"/>
            <contextType value="variable"/>
            <element value="display"/>
            <transform value="copy"/>
            <parameter>
              <valueString value="Health Concern"/>
            </parameter>
          </target>
        </rule>
      </rule>
    </rule>
    <rule>
      <name value="condition-cat-food-insecurity"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="condition"/>
        <contextType value="variable"/>
        <element value="category"/>
        <variable value="newCC"/>
        <transform value="create"/>
        <parameter>
          <valueString value="CodeableConcept"/>
        </parameter>
      </target>
      <rule>
        <name value="condition-cat-coding-food-insecurity"/>
        <source>
          <context value="src"/>
        </source>
        <target>
          <context value="newCC"/>
          <contextType value="variable"/>
          <element value="coding"/>
          <variable value="newCoding"/>
          <transform value="create"/>
          <parameter>
            <valueString value="Coding"/>
          </parameter>
        </target>
        <rule>
          <name value="condition-cat-coding-system-food-insecurity"/>
          <source>
            <context value="src"/>
          </source>
          <target>
            <context value="newCoding"/>
            <contextType value="variable"/>
            <element value="system"/>
            <transform value="copy"/>
            <parameter>
              <valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
            </parameter>
          </target>
        </rule>
        <rule>
          <name value="condition-cat-coding-code-food-insecurity"/>
          <source>
            <context value="src"/>
          </source>
          <target>
            <context value="newCoding"/>
            <contextType value="variable"/>
            <element value="code"/>
            <transform value="copy"/>
            <parameter>
              <valueString value="food-insecurity"/>
            </parameter>
          </target>
        </rule>
        <rule>
          <name value="condition-cat-coding-display-food-insecurity"/>
          <source>
            <context value="src"/>
          </source>
          <target>
            <context value="newCoding"/>
            <contextType value="variable"/>
            <element value="display"/>
            <transform value="copy"/>
            <parameter>
              <valueString value="Food Insecurity"/>
            </parameter>
          </target>
        </rule>
      </rule>
    </rule>
    <rule>
      <name value="condition-code"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="condition"/>
        <contextType value="variable"/>
        <element value="code"/>
        <variable value="newCodeCC"/>
        <transform value="create"/>
        <parameter>
          <valueString value="CodeableConcept"/>
        </parameter>
      </target>
      <rule>
        <name value="condition-code-coding-food-insecurity"/>
        <source>
          <context value="src"/>
        </source>
        <target>
          <context value="newCodeCC"/>
          <contextType value="variable"/>
          <element value="coding"/>
          <variable value="newCoding"/>
          <transform value="create"/>
          <parameter>
            <valueString value="Coding"/>
          </parameter>
        </target>
        <rule>
          <name value="condition-code-coding-system-food-insecurity"/>
          <source>
            <context value="src"/>
          </source>
          <target>
            <context value="newCoding"/>
            <contextType value="variable"/>
            <element value="system"/>
            <transform value="copy"/>
            <parameter>
              <valueString value="http://snomed.info/sct"/>
            </parameter>
          </target>
        </rule>
        <rule>
          <name value="condition-code-coding-code-food-insecurity"/>
          <source>
            <context value="src"/>
          </source>
          <target>
            <context value="newCoding"/>
            <contextType value="variable"/>
            <element value="code"/>
            <transform value="copy"/>
            <parameter>
              <valueString value="733423003"/>
            </parameter>
          </target>
        </rule>
        <rule>
          <name value="condition-code-coding-display-food-insecurity"/>
          <source>
            <context value="src"/>
          </source>
          <target>
            <context value="newCoding"/>
            <contextType value="variable"/>
            <element value="display"/>
            <transform value="copy"/>
            <parameter>
              <valueString value="Food insecurity"/>
            </parameter>
          </target>
        </rule>
      </rule>
      <rule>
        <name value="condition-code-coding-lack-of-food"/>
        <source>
          <context value="src"/>
        </source>
        <target>
          <context value="newCodeCC"/>
          <contextType value="variable"/>
          <element value="coding"/>
          <variable value="newCoding2"/>
          <transform value="create"/>
          <parameter>
            <valueString value="Coding"/>
          </parameter>
        </target>
        <rule>
          <name value="condition-code-coding-system-lack-of-food"/>
          <source>
            <context value="src"/>
          </source>
          <target>
            <context value="newCoding2"/>
            <contextType value="variable"/>
            <element value="system"/>
            <transform value="copy"/>
            <parameter>
              <valueString value="http://hl7.org/fhir/sid/icd-10-cm"/>
            </parameter>
          </target>
        </rule>
        <rule>
          <name value="condition-code-coding-code-lack-of-food"/>
          <source>
            <context value="src"/>
          </source>
          <target>
            <context value="newCoding2"/>
            <contextType value="variable"/>
            <element value="code"/>
            <transform value="copy"/>
            <parameter>
              <valueString value="Z59.4"/>
            </parameter>
          </target>
        </rule>
        <rule>
          <name value="condition-code-coding-display-lack-of-food"/>
          <source>
            <context value="src"/>
          </source>
          <target>
            <context value="newCoding2"/>
            <contextType value="variable"/>
            <element value="display"/>
            <transform value="copy"/>
            <parameter>
              <valueString value="Lack of adequate food and safe drinking water"/>
            </parameter>
          </target>
        </rule>
      </rule>
    </rule>
    <rule>
      <name value="authored"/>
      <source>
        <context value="src"/>
        <element value="authored"/>
        <variable value="authored"/>
      </source>
      <target>
        <context value="condition"/>
        <contextType value="variable"/>
        <element value="onset"/>
        <variable value="period"/>
        <transform value="create"/>
        <parameter>
          <valueString value="Period"/>
        </parameter>
      </target>
      <target>
        <context value="period"/>
        <contextType value="variable"/>
        <element value="start"/>
        <transform value="copy"/>
        <parameter>
          <valueId value="authored"/>
        </parameter>
      </target>
    </rule>
    <rule>
      <name value="entry"/>
      <source>
        <context value="bundle"/>
        <element value="entry"/>
        <variable value="entries"/>
      </source>
      <target>
        <context value="condition"/>
        <contextType value="variable"/>
        <element value="evidence"/>
        <variable value="evidence"/>
      </target>
      <target>
        <context value="evidence"/>
        <contextType value="variable"/>
        <element value="detail"/>
        <variable value="detailReference"/>
        <transform value="create"/>
        <parameter>
          <valueString value="Reference"/>
        </parameter>
      </target>
      <rule>
        <name value="resource"/>
        <source>
          <context value="entries"/>
          <element value="resource"/>
          <variable value="obs3"/>
          <condition value="code.coding.code = '88124-3'"/>
        </source>
        <target>
          <context value="detailReference"/>
          <contextType value="variable"/>
          <element value="reference"/>
          <transform value="reference"/>
          <parameter>
            <valueId value="obs3"/>
          </parameter>
        </target>
      </rule>
    </rule>
    <rule>
      <name value="subject"/>
      <source>
        <context value="src"/>
        <element value="subject"/>
        <variable value="qSubject"/>
      </source>
      <target>
        <context value="condition"/>
        <contextType value="variable"/>
        <element value="subject"/>
        <variable value="newReference"/>
        <transform value="create"/>
        <parameter>
          <valueString value="Reference"/>
        </parameter>
      </target>
      <rule>
        <name value="reference"/>
        <source>
          <context value="qSubject"/>
          <element value="reference"/>
          <variable value="qReference"/>
        </source>
        <target>
          <context value="newReference"/>
          <contextType value="variable"/>
          <element value="reference"/>
          <transform value="copy"/>
          <parameter>
            <valueId value="qReference"/>
          </parameter>
        </target>
      </rule>
      <rule>
        <name value="display"/>
        <source>
          <context value="qSubject"/>
          <element value="display"/>
          <variable value="qDisplay"/>
        </source>
        <target>
          <context value="newReference"/>
          <contextType value="variable"/>
          <element value="display"/>
          <transform value="copy"/>
          <parameter>
            <valueId value="qDisplay"/>
          </parameter>
        </target>
      </rule>
    </rule>
    <rule>
      <name value="condition-entry-request"/>
      <source>
        <context value="src"/>
      </source>
      <target>
        <context value="entry"/>
        <contextType value="variable"/>
        <element value="request"/>
        <variable value="request"/>
      </target>
      <rule>
        <name value="condition-request-method"/>
        <source>
          <context value="src"/>
        </source>
        <target>
          <context value="request"/>
          <contextType value="variable"/>
          <element value="method"/>
          <transform value="copy"/>
          <parameter>
            <valueString value="POST"/>
          </parameter>
        </target>
      </rule>
      <rule>
        <name value="condition-request-url"/>
        <source>
          <context value="src"/>
        </source>
        <target>
          <context value="request"/>
          <contextType value="variable"/>
          <element value="url"/>
          <transform value="copy"/>
          <parameter>
            <valueString value="Condition"/>
          </parameter>
        </target>
      </rule>
    </rule>
  </group>
  <group>
    <name value="SetConditionFullUrl"/>
    <typeMode value="none"/>
    <input>
      <name value="condition"/>
      <type value="sdohccCondition"/>
      <mode value="source"/>
    </input>
    <input>
      <name value="entry"/>
      <mode value="target"/>
    </input>
    <rule>
      <name value="id"/>
      <source>
        <context value="condition"/>
        <element value="id"/>
        <variable value="id"/>
      </source>
      <target>
        <context value="entry"/>
        <contextType value="variable"/>
        <element value="fullUrl"/>
        <transform value="append"/>
        <parameter>
          <valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/Condition/"/>
        </parameter>
        <parameter>
          <valueId value="id"/>
        </parameter>
      </target>
    </rule>
  </group>
</StructureMap>