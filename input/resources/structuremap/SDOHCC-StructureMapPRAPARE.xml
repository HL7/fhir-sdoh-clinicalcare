<?xml version="1.0" encoding="UTF-8"?>
<StructureMap xmlns="http://hl7.org/fhir" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://hl7.org/fhir ../../../input-cache/schemas/R4/fhir-single.xsd">
	<id value="SDOHCC-StructureMapPRAPARE"/>
	<meta>
		<versionId value="4"/>
		<lastUpdated value="2022-09-14T18:01:11.177+00:00"/>
		<source value="#npKlQo5pMXzKDtk8"/>
	</meta>
	<text>
    <status value="additional"/>
    <div xmlns="http://www.w3.org/1999/xhtml">
      <pre>/// name = &quot;SDOHCC-PRAPARE-Map&quot;
/// status = draft

map "http://hl7.org/fhir/us/sdoh-clinicalcare/StructureMap/SDOHCC-StructureMapPRAPARE" = "SDOHCC StructureMap PRAPARE"

uses "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaireresponse" alias questionnaireResponse as source
uses "http://hl7.org/fhir/StructureDefinition/Bundle" as target
uses "http://hl7.org/fhir/StructureDefinition/Observation" as target
uses "http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Condition" alias sdohccCondition as target
uses "http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationAssessment" alias sdohccObservation as target

group sdohMapping(source src : questionnaireResponse, target bundle : Bundle) {
  //temporarily set id to human-readable id as example
  //src -> bundle.id = uuid();
  src -> bundle.id = 'SDOHCC-BundlePRAPAREExample';
  src -> bundle.type = 'transaction';
  
  //for each answer item in the questionnareResponse, create an Observation and add it to the groupObservation
  src.item as rootItem -> bundle.entry as entry then 
    rootContent(src, rootItem, bundle);

  //create group observation containing all observations as hasMember
  src -> bundle.entry as entry, entry.resource = create('sdohccObservation') as groupObservation then 
    TransformGroupObservation(src, bundle, groupObservation, entry);
}

group rootContent(source qResponse: questionnaireResponse, source rootItem, target bundle) {
  rootItem.item as groupItem -> bundle.entry as entry then 
    groupContent(qResponse, groupItem, bundle);
}

group groupContent(source qResponse: questionnaireResponse, source groupItem, target bundle) {
  groupItem.item as questionItem -> bundle.entry as entry, entry.resource = create('sdohccObservation') as observation then
    TransformObservation(qResponse, questionItem, bundle, observation, entry, bundle);
}

group TransformObservation(source src: questionnaireResponse, source answerItem, source bundle, target observation: sdohccObservation, target entry, target bundle)
{
  src -> observation.id = uuid() then
  	SetObservationFullUrl(observation, entry);
  src -> observation.status = 'final';
  src -> observation.category = cc('http://terminology.hl7.org/CodeSystem/observation-category', 'social-history', 'Social History');
  src -> observation.category = cc('http://terminology.hl7.org/CodeSystem/observation-category', 'survey', 'Survey');
 
  src -> observation.meta = create('Meta') as newMeta then {
    src -> newMeta.profile = 'http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse';
  };

  //set dates
  src.authored as authored -> observation.issued = authored, observation.effective = authored;
  
  src.subject as qSubject -> observation.subject = create('Reference') as newReference then {
    qSubject.reference as qReference -> newReference.reference = qReference;
    qSubject.display as qDisplay -> newReference.display = qDisplay;
  };
  src.subject as qSubject -> observation.performer = create('Reference') as newReference then {
    qSubject.reference as qReference -> newReference.reference = qReference;
    qSubject.display as qDisplay -> newReference.display = qDisplay;
  };  

  src.id as id -> observation.derivedFrom = create('Reference') as newReference then {
    id -> newReference.reference = append('QuestionnaireResponse/', id);
  };

  //answerItem.answer as answer -> observation.id = uuid() then
  //	SetValue(answer, observation);

  //Set observation.code mapping for each corresponding answer

  // 1. Ethnicity
  answerItem where "linkId = '/93043-8/56051-6'" -> observation.code = cc('http://loinc.org', '56051-6') as code then 
    SetValueCodeableConcept(answerItem, observation);
  
  // 2. Race
  //TBD: How to handle "Others" text?
  answerItem where "linkId = '/93043-8/32624-9'" -> observation.code = cc('http://loinc.org', '32624-9') as code then 
    SetValuesToComponents(answerItem, observation, observation);

  // 3. Farm Worker Status
  answerItem where "linkId = '/93043-8/93035-4'" -> observation.code = cc('http://loinc.org', '93035-4') as code then
    SetValueCodeableConcept(answerItem, observation);
  answerItem where "linkId = '/93043-8/93035-4'" -> observation.category = create('CodeableConcept') as newCC then {
    src -> newCC.coding = create('Coding') as newCoding then {
      src -> newCoding.system = 'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes';
      src -> newCoding.code = 'sdoh-category-unspecified';
      src -> newCoding.display = 'SDOH Category Unspecified';
    };
  };

  // 4. Veteran Status
  answerItem where "linkId = '/93043-8/93034-7'" -> observation.code = cc('http://loinc.org', '93034-7') as code then
    SetValueCodeableConcept(answerItem, observation);
  answerItem where "linkId = '/93043-8/93034-7'" -> observation.category = create('CodeableConcept') as newCC then {
    src -> newCC.coding = create('Coding') as newCoding then {
      src -> newCoding.system = 'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes';
      src -> newCoding.code = 'veteran-status';
      src -> newCoding.display = 'Veteran Status';
    };
  };  
  
  // 5. English Proficiency
  answerItem where "linkId = '/93043-8/54899-0'" -> observation.code = cc('http://loinc.org', '54899-0') as code then
    SetValueCodeableConcept(answerItem, observation);

  // 6. Household Size
  answerItem where "linkId = '/93042-0/63512-8'" -> observation.code = cc('http://loinc.org', '63512-8') as code then {
    answerItem.answer as answer -> observation.value = create('Quantity') as newQty then {
      answer.value as vs -> newQty.value = vs;
      src -> newQty.unit = '{#}';
      src -> newQty.system = 'http://unitsofmeasure.org';
      src -> newQty.code = '{#}';
    };
  };

  // 7. Housing
  answerItem where "linkId = '/93042-0/71802-3'" -> observation.code = cc('http://loinc.org', '71802-3') as code then
    SetValueCodeableConcept(answerItem, observation);
  answerItem where "linkId = '/93042-0/71802-3'" -> observation.category = create('CodeableConcept') as newCC then {
    src -> newCC.coding = create('Coding') as newCoding then {
      src -> newCoding.system = 'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes';
      src -> newCoding.code = 'homelessness';
      src -> newCoding.display = 'Homelessness';
    };
  };

  // 8. Housing Status
  answerItem where "linkId = '/93042-0/93033-9'" -> observation.code = cc('http://loinc.org', '93033-9') as code then
    SetValueCodeableConcept(answerItem, observation);
  answerItem where "linkId = '/93042-0/93033-9'" -> observation.category = create('CodeableConcept') as newCC then {
    src -> newCC.coding = create('Coding') as newCoding then {
      src -> newCoding.system = 'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes';
      src -> newCoding.code = 'housing-instability';
      src -> newCoding.display = 'Housing Instability';
    };
  };  

  // 9. Neighborhood
  answerItem where "linkId = '/93042-0/56799-0'" -> observation.code = cc('http://loinc.org', '56799-0') as code then
    SetValue(answerItem, observation);

  // 10. Education
  answerItem where "linkId = '/93041-2/82589-3'" -> observation.code = cc('http://loinc.org', '82589-3') as code then
    SetValueCodeableConcept(answerItem, observation);
  answerItem where "linkId = '/93041-2/82589-3'" -> observation.category = create('CodeableConcept') as newCC then {
    src -> newCC.coding = create('Coding') as newCoding then {
      src -> newCoding.system = 'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes';
      src -> newCoding.code = 'educational-attainment';
      src -> newCoding.display = 'Educational Attainment';
    };
  }; 

  // 11. Employment
  answerItem where "linkId = '/93041-2/67875-5'" -> observation.code = cc('http://loinc.org', '67875-5') as code then
    SetValueCodeableConcept(answerItem, observation);
  answerItem where "linkId = '/93041-2/67875-5'" -> observation.category = create('CodeableConcept') as newCC then {
    src -> newCC.coding = create('Coding') as newCoding then {
      src -> newCoding.system = 'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes';
      src -> newCoding.code = 'employment-status';
      src -> newCoding.display = 'Employment Status';
    };
  };

  // 12. Insurance
  answerItem where "linkId = '/93041-2/76437-3'" -> observation.code = cc('http://loinc.org', '76437-3') as code then
    SetValueCodeableConcept(answerItem, observation);

  // 13. Household Income
  answerItem where "linkId = '/93041-2/63586-2'" -> observation.code = cc('http://loinc.org', '63586-2') as code then {
    answerItem.answer as answer -> observation.value = create('Quantity') as newQty then {
      answer.value as vs -> newQty.value = vs;
      src -> newQty.unit = '/a';
      src -> newQty.system = 'http://unitsofmeasure.org';
      src -> newQty.code = '/a';
    };
  };

  // 14. Material Security
  answerItem where "linkId = '/93041-2/93031-3'" -> observation.code = cc('http://loinc.org', '93031-3') as code then 
    SetValuesToComponents(answerItem, observation, observation);
  // answer: Food
  answerItem where "linkId = '/93041-2/93031-3'" -> observation.category = create('CodeableConcept') as newCC then {
    src -> newCC.coding = create('Coding') as newCoding then {
      src -> newCoding.system = 'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes';
      src -> newCoding.code = 'sdoh-category-unspecified';
      src -> newCoding.display = 'SDOH Category Unspecified';
    };
  };
  
  // 15. Transportation
  answerItem where "linkId = '/93041-2/93030-5'" -> observation.code = cc('http://loinc.org', '93030-5') as code then
    SetValueCodeableConcept(answerItem, observation);
  answerItem where "linkId = '/93041-2/93030-5'" -> observation.category = create('CodeableConcept') as newCC then {
    src -> newCC.coding = create('Coding') as newCoding then {
      src -> newCoding.system = 'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes';
      src -> newCoding.code = 'transportation-insecurity';
      src -> newCoding.display = 'Transportation Insecurity';
    };
  };

  // 16. Social Integration
  answerItem where "linkId = '/93040-4/93029-7'" -> observation.code = cc('http://loinc.org', '93029-7') as code then
    SetValueCodeableConcept(answerItem, observation);
  answerItem where "linkId = '/93040-4/93029-7'" -> observation.category = create('CodeableConcept') as newCC then {
    src -> newCC.coding = create('Coding') as newCoding then {
      src -> newCoding.system = 'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes';
      src -> newCoding.code = 'sdoh-category-unspecified';
      src -> newCoding.display = 'SDOH Category Unspecified';
    };
  };

  // 17. Stress
  answerItem where "linkId = '/93040-4/93038-8'" -> observation.code = cc('http://loinc.org', '93038-8') as code then
    SetValueCodeableConcept(answerItem, observation);
  answerItem where "linkId = '/93040-4/93038-8'" -> observation.category = create('CodeableConcept') as newCC then {
    src -> newCC.coding = create('Coding') as newCoding then {
      src -> newCoding.system = 'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes';
      src -> newCoding.code = 'stress';
      src -> newCoding.display = 'Stress';
    };
  };

  // 18. Incarceration
  answerItem where "linkId = '/93039-6/93028-9'" -> observation.code = cc('http://loinc.org', '93028-9') as code then
    SetValueCodeableConcept(answerItem, observation);
  answerItem where "linkId = '/93039-6/93028-9'" -> observation.category = create('CodeableConcept') as newCC then {
    src -> newCC.coding = create('Coding') as newCoding then {
      src -> newCoding.system = 'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes';
      src -> newCoding.code = 'sdoh-category-unspecified';
      src -> newCoding.display = 'SDOH Category Unspecified';
    };
  };  

  // 19. Refugee
  answerItem where "linkId = '/93039-6/93027-1'" -> observation.code = cc('http://loinc.org', '93027-1') as code then
    SetValueCodeableConcept(answerItem, observation);
  answerItem where "linkId = '/93039-6/93027-1'" -> observation.category = create('CodeableConcept') as newCC then {
    src -> newCC.coding = create('Coding') as newCoding then {
      src -> newCoding.system = 'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes';
      src -> newCoding.code = 'sdoh-category-unspecified';
      src -> newCoding.display = 'SDOH Category Unspecified';
    };
  };  

  // 20. Safety
  answerItem where "linkId = '/93039-6/93026-3'" -> observation.code = cc('http://loinc.org', '93026-3') as code then
    SetValueCodeableConcept(answerItem, observation);

  // 21. Domestic Violence
  answerItem where "linkId = '/93039-6/76501-6'" -> observation.code = cc('http://loinc.org', '76501-6') as code then
    SetValueCodeableConcept(answerItem, observation);
  answerItem where "linkId = '/93039-6/76501-6'" -> observation.category = create('CodeableConcept') as newCC then {
    src -> newCC.coding = create('Coding') as newCoding then {
      src -> newCoding.system = 'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes';
      src -> newCoding.code = 'sdoh-category-unspecified';
      src -> newCoding.display = 'SDOH Category Unspecified';
    };
  };  

  //create a Condition if homeless
  answerItem where "linkId = '/93042-0/71802-3' and answer.valueCoding.code ='LA30190-5'" -> bundle.entry as entry, entry.resource = create('sdohccCondition') as condition then
    TransformCondition(src, bundle, condition, entry), SetConditionCodeAndEvidence1(src, bundle, condition);

  //create a Condition if unemployed
  answerItem where "linkId = '/93041-2/67875-5' and answer.valueCoding.code ='LA17956-6'" -> bundle.entry as entry, entry.resource = create('sdohccCondition') as condition then
    TransformCondition(src, bundle, condition, entry), SetConditionCodeAndEvidence2(src, bundle, condition);
}

group SetValue(source answerItem, target observation) {
  answerItem.answer as answer -> observation.id as id then {
    answer.value as vs -> observation.value = vs;
  };
}

group SetValueCodeableConcept(source src, target observation) {
  src.answer as answer -> observation.value = create('CodeableConcept') as newCC then {
    answer.valueCoding as coding -> newCC.coding = coding as newCoding;
  };
}

group SetValuesToComponents(source answerItem, source srcObservation, target observation) {
  answerItem.answer as answer -> observation.component as newComponent, newComponent.value = create('CodeableConcept') as newCC then {
    answer.valueCoding as coding -> newCC.coding = coding as newCoding;
    srcObservation.code as code ->  newComponent.code = code;
  };
}

group SetObservationFullUrl(source observation: Observation, target entry)
{
  observation.id as id -> entry.fullUrl = append('http://hl7.org/fhir/us/sdoh-clinicalcare/Observation/', id);
}

group TransformCondition(source src: questionnaireResponse, source bundle, target condition: sdohccCondition, target entry)
{
  src -> condition.id = uuid() then
    SetConditionFullUrl(condition, entry);

  src -> condition.id = uuid() then
    SetConditionFullUrl(condition, entry);

  src -> condition.meta = create('Meta') as newMeta then {
    src -> newMeta.profile = 'http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Condition';
  };

  src -> condition.clinicalStatus = cc('http://terminology.hl7.org/CodeSystem/condition-clinical', 'active', 'Active');
  src -> condition.verificationStatus = cc('http://terminology.hl7.org/CodeSystem/condition-ver-status', 'unconfirmed', 'Unconfirmed');

  src -> condition.category = create('CodeableConcept') as newCC then {
    src -> newCC.coding = create('Coding') as newCoding then {
      src -> newCoding.system = 'http://hl7.org/fhir/us/core/CodeSystem/condition-category';
      src -> newCoding.code = 'health-concern';
      src -> newCoding.display = 'Health Concern';
    };
  };
    
  src.authored as authored -> condition.onset = create('Period') as period,
    period.start = authored;

  src.subject as qSubject -> condition.subject = create('Reference') as newReference then {
    qSubject.reference as qReference -> newReference.reference = qReference;
    qSubject.display as qDisplay -> newReference.display = qDisplay;
  };

  src.subject as qSubject -> condition.asserter = create('Reference') as newReference then {
    qSubject.reference as qReference -> newReference.reference = qReference;
    qSubject.display as qDisplay -> newReference.display = qDisplay;
  };
}

group SetConditionFullUrl(source condition: sdohccCondition, target entry)
{
  condition.id as id -> entry.fullUrl = append('http://hl7.org/fhir/us/sdoh-clinicalcare/Condition/', id);
}

group SetConditionCodeAndEvidence1(source src: questionnaireResponse, source bundle, target condition)
{
  src -> condition.code = create('CodeableConcept') as newCodeCC then {
      src -> newCodeCC.coding = create('Coding') as newCoding then {
        src -> newCoding.system = 'http://snomed.info/sct';
        src -> newCoding.code = '32911000';
        src -> newCoding.display = 'Homeless';
    };
    src -> newCodeCC.coding = create('Coding') as newCoding2 then {
        src -> newCoding2.system = 'http://hl7.org/fhir/sid/icd-10-cm';
        src -> newCoding2.code = 'Z59.0';
        src -> newCoding2.display = 'Homelessness';
    };
  }; 
  //Add sdoh category
  src -> condition.category = create('CodeableConcept') as newCC then {
      src -> newCC.coding = create('Coding') as newCoding then {
        src -> newCoding.system = 'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes';
        src -> newCoding.code = 'homelessness';
        src -> newCoding.display = 'Homelessness';
    };
  };  
  bundle.entry as entries -> condition.evidence as evidence, evidence.detail = create('Reference') as detailReference then {
  	entries.resource as obs where "code.coding.code = '71802-3'"-> detailReference.reference = reference(obs); 
  };
}

group SetConditionCodeAndEvidence2(source src: questionnaireResponse, source bundle, target condition)
{
  src -> condition.code = create('CodeableConcept') as newCodeCC then {
      src -> newCodeCC.coding = create('Coding') as newCoding then {
        src -> newCoding.system = 'http://snomed.info/sct';
        src -> newCoding.code = '73438004';
        src -> newCoding.display = 'Unemployed';
    };
    src -> newCodeCC.coding = create('Coding') as newCoding2 then {
        src -> newCoding2.system = 'http://hl7.org/fhir/sid/icd-10-cm';
        src -> newCoding2.code = 'Z56.0';
        src -> newCoding2.display = 'Unemployment, unspecified';
    };
  };
  //Add sdoh category
  src -> condition.category = create('CodeableConcept') as newCC then {
      src -> newCC.coding = create('Coding') as newCoding then {
        src -> newCoding.system = 'http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes';
        src -> newCoding.code = 'employment-status';
        src -> newCoding.display = 'Employment Status';
    };
  };    
  bundle.entry as entries -> condition.evidence as evidence, evidence.detail = create('Reference') as detailReference then {
  	entries.resource as obs where "code.coding.code = '67875-5'"-> detailReference.reference = reference(obs); 
  };
}

group TransformGroupObservation(source src: questionnaireResponse, source bundle:Bundle, target groupObservation: Observation, target entry)
{
  src -> groupObservation.id = uuid() then
    SetObservationFullUrl(groupObservation, entry);  
  src -> groupObservation.status = 'final';
  src -> groupObservation.category = cc('http://terminology.hl7.org/CodeSystem/observation-category', 'social-history', 'Social History');
  src -> groupObservation.category = cc('http://terminology.hl7.org/CodeSystem/observation-category', 'survey', 'Survey');

  src -> groupObservation.meta = create('Meta') as newMeta then {
    src -> newMeta.profile = 'http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse';
  };

  src.authored as authored -> groupObservation.effective = authored;
  src.subject as qSubject -> groupObservation.subject = create('Reference') as newReference then {
    qSubject.reference as qReference -> newReference.reference = qReference;
    qSubject.display as qDisplay -> newReference.display = qDisplay;
  };  

  src -> groupObservation.code = cc('http://loinc.org', '93025-5');   

  //only add observations that are derived from the answers
  bundle.entry as entries -> groupObservation.hasMember = create('Reference') as df then {
    entries.resource as obs where "status.exists() and hasMember.exists().not()"-> df.reference = reference(obs); 
  };

  src.id as id -> groupObservation.derivedFrom = create('Reference') as newReference then {
    id -> newReference.reference = append('QuestionnaireResponse/', id);
  };
}</pre>
    </div>
  </text>
	<url value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureMap/SDOHCC-StructureMapPRAPARE"/>
	<name value="SDOHCCStructureMapPRAPARE"/>
	<title value="SDOHCC Structure Map PRAPARE"/>
	<status value="active"/>
	<structure>
		<url value="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaireresponse"/>
		<mode value="source"/>
		<alias value="questionnaireResponse"/>
	</structure>
	<structure>
		<url value="http://hl7.org/fhir/StructureDefinition/Bundle"/>
		<mode value="target"/>
	</structure>
	<structure>
		<url value="http://hl7.org/fhir/StructureDefinition/Observation"/>
		<mode value="target"/>
	</structure>
	<structure>
		<url value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Condition"/>
		<mode value="target"/>
		<alias value="sdohccCondition"/>
	</structure>
	<structure>
		<url value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse"/>
		<mode value="target"/>
		<alias value="sdohccObservation"/>
	</structure>
	<group>
		<name value="sdohMapping"/>
		<typeMode value="none"/>
		<input>
			<name value="src"/>
			<type value="questionnaireResponse"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="bundle"/>
			<type value="Bundle"/>
			<mode value="target"/>
		</input>
		<rule>
			<name value="bundle-id"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="bundle"/>
				<contextType value="variable"/>
				<element value="id"/>
				<transform value="copy"/>
				<parameter>
					<valueString value="SDOHCC-BundlePRAPAREExample"/>
				</parameter>
			</target>
		</rule>
		<rule>
			<name value="bundle-type"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="bundle"/>
				<contextType value="variable"/>
				<element value="type"/>
				<transform value="copy"/>
				<parameter>
					<valueString value="transaction"/>
				</parameter>
			</target>
		</rule>
		<rule>
			<name value="item"/>
			<source>
				<context value="src"/>
				<element value="item"/>
				<variable value="rootItem"/>
			</source>
			<target>
				<context value="bundle"/>
				<contextType value="variable"/>
				<element value="entry"/>
				<variable value="entry"/>
			</target>
			<dependent>
				<name value="rootContent"/>
				<variable value="src">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="rootItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="bundle">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="bundle-group-obsn"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="bundle"/>
				<contextType value="variable"/>
				<element value="entry"/>
				<variable value="entry"/>
			</target>
			<target>
				<context value="entry"/>
				<contextType value="variable"/>
				<element value="resource"/>
				<variable value="groupObservation"/>
				<transform value="create"/>
				<parameter>
					<valueString value="sdohccObservation"/>
				</parameter>
			</target>
			<dependent>
				<name value="TransformGroupObservation"/>
				<variable value="src">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="bundle">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="groupObservation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="entry">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
	</group>
	<group>
		<name value="rootContent"/>
		<typeMode value="none"/>
		<input>
			<name value="qResponse"/>
			<type value="questionnaireResponse"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="rootItem"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="bundle"/>
			<mode value="target"/>
		</input>
		<rule>
			<name value="item"/>
			<source>
				<context value="rootItem"/>
				<element value="item"/>
				<variable value="groupItem"/>
			</source>
			<target>
				<context value="bundle"/>
				<contextType value="variable"/>
				<element value="entry"/>
				<variable value="entry"/>
			</target>
			<dependent>
				<name value="groupContent"/>
				<variable value="qResponse">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="groupItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="bundle">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
	</group>
	<group>
		<name value="groupContent"/>
		<typeMode value="none"/>
		<input>
			<name value="qResponse"/>
			<type value="questionnaireResponse"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="groupItem"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="bundle"/>
			<mode value="target"/>
		</input>
		<rule>
			<name value="item"/>
			<source>
				<context value="groupItem"/>
				<element value="item"/>
				<variable value="answerItem"/>
			</source>
			<target>
				<context value="bundle"/>
				<contextType value="variable"/>
				<element value="entry"/>
				<variable value="entry"/>
			</target>
			<dependent>
				<name value="itemContent"/>
				<variable value="qResponse">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="bundle">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
	</group>
	<group>
		<name value="itemContent"/>
		<typeMode value="none"/>
		<input>
			<name value="qResponse"/>
			<type value="questionnaireResponse"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="answerItem"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="bundle"/>
			<mode value="target"/>
		</input>
		<rule>
			<name value="obsn"/>
			<source>
				<context value="answerItem"/>
				<condition value="(answerItem.linkId != '/93043-8/32624-9') and (answerItem.linkId != '/93041-2/93031-3') and (answerItem.linkId != '/93041-2/93030-5')"/>
			</source>
			<target>
				<context value="bundle"/>
				<contextType value="variable"/>
				<element value="entry"/>
				<variable value="entry"/>
			</target>
			<target>
				<context value="entry"/>
				<contextType value="variable"/>
				<element value="resource"/>
				<variable value="observation"/>
				<transform value="create"/>
				<parameter>
					<valueString value="sdohccObservation"/>
				</parameter>
			</target>
			<dependent>
				<name value="TransformObservation"/>
				<variable value="qResponse">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="bundle">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="entry">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="bundle">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="answer"/>
			<source>
				<context value="answerItem"/>
				<element value="answer"/>
				<variable value="answer"/>
				<condition value="(answerItem.linkId = '/93043-8/32624-9') or (answerItem.linkId = '/93041-2/93031-3') or (answerItem.linkId = '/93041-2/93030-5')"/>
			</source>
			<target>
				<context value="bundle"/>
				<contextType value="variable"/>
				<element value="entry"/>
				<variable value="entry"/>
			</target>
			<target>
				<context value="entry"/>
				<contextType value="variable"/>
				<element value="resource"/>
				<variable value="observation"/>
				<transform value="create"/>
				<parameter>
					<valueString value="sdohccObservation"/>
				</parameter>
			</target>
			<dependent>
				<name value="TransformObservation"/>
				<variable value="qResponse">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="bundle">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="entry">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="bundle">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
			<dependent>
				<name value="SetValueCodeableConceptFromAnswer"/>
				<variable value="answer">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
	</group>
	<group>
		<name value="SetValueCodeableConceptFromAnswer"/>
		<typeMode value="none"/>
		<input>
			<name value="answer"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="observation"/>
			<mode value="target"/>
		</input>
		<rule>
			<name value="obsn-value"/>
			<source>
				<context value="answer"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="value"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="valueCoding"/>
				<source>
					<context value="answer"/>
					<element value="valueCoding"/>
					<variable value="coding"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="copy"/>
					<parameter>
						<valueId value="coding"/>
					</parameter>
				</target>
			</rule>
		</rule>
	</group>
	<group>
		<name value="TransformObservation"/>
		<typeMode value="none"/>
		<input>
			<name value="src"/>
			<type value="questionnaireResponse"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="answerItem"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="bundle"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="observation"/>
			<type value="sdohccObservation"/>
			<mode value="target"/>
		</input>
		<input>
			<name value="entry"/>
			<mode value="target"/>
		</input>
		<input>
			<name value="bundle"/>
			<mode value="target"/>
		</input>
		<rule>
			<name value="obsn-full-url"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="id"/>
				<transform value="uuid"/>
			</target>
			<dependent>
				<name value="SetObservationFullUrl"/>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="entry">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="obsn-status"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="status"/>
				<transform value="copy"/>
				<parameter>
					<valueString value="final"/>
				</parameter>
			</target>
		</rule>
		<rule>
			<name value="obsn-cat-social-history"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://terminology.hl7.org/CodeSystem/observation-category"/>
				</parameter>
				<parameter>
					<valueString value="social-history"/>
				</parameter>
				<parameter>
					<valueString value="Social History"/>
				</parameter>
			</target>
		</rule>
		<rule>
			<name value="obsn-cat-survey"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://terminology.hl7.org/CodeSystem/observation-category"/>
				</parameter>
				<parameter>
					<valueString value="survey"/>
				</parameter>
				<parameter>
					<valueString value="Survey"/>
				</parameter>
			</target>
		</rule>
		<rule>
			<name value="obsn-meta"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="meta"/>
				<variable value="newMeta"/>
				<transform value="create"/>
				<parameter>
					<valueString value="Meta"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-meta-profile"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newMeta"/>
					<contextType value="variable"/>
					<element value="profile"/>
					<transform value="copy"/>
					<parameter>
						<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse"/>
					</parameter>
				</target>
			</rule>
		</rule>
		<rule>
			<name value="authored"/>
			<source>
				<context value="src"/>
				<element value="authored"/>
				<variable value="authored"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="issued"/>
				<transform value="copy"/>
				<parameter>
					<valueId value="authored"/>
				</parameter>
			</target>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="effective"/>
				<transform value="copy"/>
				<parameter>
					<valueId value="authored"/>
				</parameter>
			</target>
		</rule>
		<rule>
			<name value="subject"/>
			<source>
				<context value="src"/>
				<element value="subject"/>
				<variable value="qSubject"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="subject"/>
				<variable value="newReference"/>
				<transform value="create"/>
				<parameter>
					<valueString value="Reference"/>
				</parameter>
			</target>
			<rule>
				<name value="reference"/>
				<source>
					<context value="qSubject"/>
					<element value="reference"/>
					<variable value="qReference"/>
				</source>
				<target>
					<context value="newReference"/>
					<contextType value="variable"/>
					<element value="reference"/>
					<transform value="copy"/>
					<parameter>
						<valueId value="qReference"/>
					</parameter>
				</target>
			</rule>
			<rule>
				<name value="display"/>
				<source>
					<context value="qSubject"/>
					<element value="display"/>
					<variable value="qDisplay"/>
				</source>
				<target>
					<context value="newReference"/>
					<contextType value="variable"/>
					<element value="display"/>
					<transform value="copy"/>
					<parameter>
						<valueId value="qDisplay"/>
					</parameter>
				</target>
			</rule>
		</rule>
		<rule>
			<name value="subject"/>
			<source>
				<context value="src"/>
				<element value="subject"/>
				<variable value="qSubject"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="performer"/>
				<variable value="newReference"/>
				<transform value="create"/>
				<parameter>
					<valueString value="Reference"/>
				</parameter>
			</target>
			<rule>
				<name value="reference"/>
				<source>
					<context value="qSubject"/>
					<element value="reference"/>
					<variable value="qReference"/>
				</source>
				<target>
					<context value="newReference"/>
					<contextType value="variable"/>
					<element value="reference"/>
					<transform value="copy"/>
					<parameter>
						<valueId value="qReference"/>
					</parameter>
				</target>
			</rule>
			<rule>
				<name value="display"/>
				<source>
					<context value="qSubject"/>
					<element value="display"/>
					<variable value="qDisplay"/>
				</source>
				<target>
					<context value="newReference"/>
					<contextType value="variable"/>
					<element value="display"/>
					<transform value="copy"/>
					<parameter>
						<valueId value="qDisplay"/>
					</parameter>
				</target>
			</rule>
		</rule>
		<rule>
			<name value="obsn-derived-from"/>
			<source>
				<context value="src"/>
				<element value="id"/>
				<variable value="id"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="derivedFrom"/>
				<variable value="newReference"/>
				<transform value="create"/>
				<parameter>
					<valueString value="Reference"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-derived-from-reference"/>
				<source>
					<context value="id"/>
				</source>
				<target>
					<context value="newReference"/>
					<contextType value="variable"/>
					<element value="reference"/>
					<transform value="append"/>
					<parameter>
						<valueString value="QuestionnaireResponse/"/>
					</parameter>
					<parameter>
						<valueId value="id"/>
					</parameter>
				</target>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-ethnicity"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93043-8/56051-6'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="56051-6"/>
				</parameter>
			</target>
			<dependent>
				<name value="SetValueCodeableConcept"/>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93043-8/56051-6'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="sdoh-category-unspecified"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="SDOH Category Unspecified"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obs-code-race"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93043-8/32624-9'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="32624-9"/>
				</parameter>
			</target>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93043-8/32624-9'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="sdoh-category-unspecified"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="SDOH Category Unspecified"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-farm-worker-status"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93043-8/93035-4'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="93035-4"/>
				</parameter>
			</target>
			<dependent>
				<name value="SetValueCodeableConcept"/>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93043-8/93035-4'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="sdoh-category-unspecified"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="SDOH Category Unspecified"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-vet-status"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93043-8/93034-7'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="93034-7"/>
				</parameter>
			</target>
			<dependent>
				<name value="SetValueCodeableConcept"/>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93043-8/93034-7'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="veteran-status"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Veteran Status"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-eng-prof"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93043-8/54899-0'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="54899-0"/>
				</parameter>
			</target>
			<dependent>
				<name value="SetValueCodeableConcept"/>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93043-8/54899-0'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="sdoh-category-unspecified"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="SDOH Category Unspecified"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-household-size"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93042-0/63512-8'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="63512-8"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-value"/>
				<source>
					<context value="answerItem"/>
					<element value="answer"/>
					<variable value="answer"/>
				</source>
				<target>
					<context value="observation"/>
					<contextType value="variable"/>
					<element value="value"/>
					<variable value="newQty"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Quantity"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-qty-value"/>
					<source>
						<context value="answer"/>
						<element value="value"/>
						<variable value="vs"/>
					</source>
					<target>
						<context value="newQty"/>
						<contextType value="variable"/>
						<element value="value"/>
						<transform value="copy"/>
						<parameter>
							<valueId value="vs"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-qty-unit"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newQty"/>
						<contextType value="variable"/>
						<element value="unit"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="{#}"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-qty-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newQty"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://unitsofmeasure.org"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-qty-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newQty"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="{#}"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93042-0/63512-8'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="sdoh-category-unspecified"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="SDOH Category Unspecified"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-housing"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93042-0/71802-3'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="71802-3"/>
				</parameter>
			</target>
			<dependent>
				<name value="SetValueCodeableConcept"/>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93042-0/71802-3'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="homelessness"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Homelessness"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-housing-status"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93042-0/93033-9'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="93033-9"/>
				</parameter>
			</target>
			<dependent>
				<name value="SetValueCodeableConcept"/>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93042-0/93033-9'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="housing-instability"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Housing Instability"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-neighborhood"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93042-0/56799-0'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="56799-0"/>
				</parameter>
			</target>
			<dependent>
				<name value="SetValue"/>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93042-0/56799-0'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="sdoh-category-unspecified"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="SDOH Category Unspecified"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-education"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93041-2/82589-3'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="82589-3"/>
				</parameter>
			</target>
			<dependent>
				<name value="SetValueCodeableConcept"/>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93041-2/82589-3'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="educational-attainment"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Educational Attainment"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-employment"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93041-2/67875-5'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="67875-5"/>
				</parameter>
			</target>
			<dependent>
				<name value="SetValueCodeableConcept"/>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93041-2/67875-5'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="employment-status"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Employment Status"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-insurance"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93041-2/76437-3'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="76437-3"/>
				</parameter>
			</target>
			<dependent>
				<name value="SetValueCodeableConcept"/>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93041-2/76437-3'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="health-insurance-coverage-status"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Health Insurance Coverage Status"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-household-income"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93041-2/63586-2'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="63586-2"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-value"/>
				<source>
					<context value="answerItem"/>
					<element value="answer"/>
					<variable value="answer"/>
				</source>
				<target>
					<context value="observation"/>
					<contextType value="variable"/>
					<element value="value"/>
					<variable value="newQty"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Quantity"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-qty-value"/>
					<source>
						<context value="answer"/>
						<element value="value"/>
						<variable value="vs"/>
					</source>
					<target>
						<context value="newQty"/>
						<contextType value="variable"/>
						<element value="value"/>
						<transform value="copy"/>
						<parameter>
							<valueId value="vs"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-qty-unit"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newQty"/>
						<contextType value="variable"/>
						<element value="unit"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="/a"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-qty-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newQty"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://unitsofmeasure.org"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-qty-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newQty"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="/a"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93041-2/63586-2'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="sdoh-category-unspecified"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="SDOH Category Unspecified"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-material-security"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93041-2/93031-3'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="93031-3"/>
				</parameter>
			</target>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93041-2/93031-3'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="material-hardship"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Material Hardship"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-transportation"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93041-2/93030-5'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="93030-5"/>
				</parameter>
			</target>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93041-2/93030-5'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="transportation-insecurity"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Transportation Insecurity"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-soc-integ"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93040-4/93029-7'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="93029-7"/>
				</parameter>
			</target>
			<dependent>
				<name value="SetValueCodeableConcept"/>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93040-4/93029-7'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="social-connection"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Social Connection"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-stress"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93040-4/93038-8'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="93038-8"/>
				</parameter>
			</target>
			<dependent>
				<name value="SetValueCodeableConcept"/>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93040-4/93038-8'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="stress"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Stress"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-incarceration"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93039-6/93028-9'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="93028-9"/>
				</parameter>
			</target>
			<dependent>
				<name value="SetValueCodeableConcept"/>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93039-6/93028-9'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="sdoh-category-unspecified"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="SDOH Category Unspecified"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-refugee"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93039-6/93027-1'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="93027-1"/>
				</parameter>
			</target>
			<dependent>
				<name value="SetValueCodeableConcept"/>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93039-6/93027-1'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="sdoh-category-unspecified"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="SDOH Category Unspecified"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-safety"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93039-6/93026-3'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="93026-3"/>
				</parameter>
			</target>
			<dependent>
				<name value="SetValueCodeableConcept"/>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93039-6/93026-3'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="sdoh-category-unspecified"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="SDOH Category Unspecified"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="obsn-code-dom-violence"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93039-6/76501-6'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="76501-6"/>
				</parameter>
			</target>
			<dependent>
				<name value="SetValueCodeableConcept"/>
				<variable value="answerItem">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="observation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="obsn-cat"/>
			<source>
				<context value="answerItem"/>
				<condition value="linkId = '/93039-6/76501-6'"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="obsn-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="obsn-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="intimate-partner-violence"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="obsn-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Intimate Partner Violence"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="condition-homeless"/>
			<source>
				<context value="answerItem"/>
				<condition value="(linkId = '/93042-0/71802-3') and (answer.valueCoding.code = 'LA30190-5')"/>
			</source>
			<target>
				<context value="bundle"/>
				<contextType value="variable"/>
				<element value="entry"/>
				<variable value="entry"/>
			</target>
			<target>
				<context value="entry"/>
				<contextType value="variable"/>
				<element value="resource"/>
				<variable value="condition"/>
				<transform value="create"/>
				<parameter>
					<valueString value="sdohccCondition"/>
				</parameter>
			</target>
			<dependent>
				<name value="TransformCondition"/>
				<variable value="src">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="bundle">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="condition">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="entry">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
			<dependent>
				<name value="SetConditionCodeAndEvidence1"/>
				<variable value="src">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="bundle">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="condition">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="condition-unemployed"/>
			<source>
				<context value="answerItem"/>
				<condition value="(linkId = '/93041-2/67875-5') and (answer.valueCoding.code = 'LA17956-6')"/>
			</source>
			<target>
				<context value="bundle"/>
				<contextType value="variable"/>
				<element value="entry"/>
				<variable value="entry"/>
			</target>
			<target>
				<context value="entry"/>
				<contextType value="variable"/>
				<element value="resource"/>
				<variable value="condition"/>
				<transform value="create"/>
				<parameter>
					<valueString value="sdohccCondition"/>
				</parameter>
			</target>
			<dependent>
				<name value="TransformCondition"/>
				<variable value="src">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="bundle">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="condition">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="entry">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
			<dependent>
				<name value="SetConditionCodeAndEvidence2"/>
				<variable value="src">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="bundle">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="condition">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="obsn-entry-request"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="entry"/>
				<contextType value="variable"/>
				<element value="request"/>
				<variable value="request"/>
			</target>
			<rule>
				<name value="obsn-request-method"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="request"/>
					<contextType value="variable"/>
					<element value="method"/>
					<transform value="copy"/>
					<parameter>
						<valueString value="POST"/>
					</parameter>
				</target>
			</rule>
			<rule>
				<name value="obsn-request-url"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="request"/>
					<contextType value="variable"/>
					<element value="url"/>
					<transform value="copy"/>
					<parameter>
						<valueString value="Observation"/>
					</parameter>
				</target>
			</rule>
		</rule>
	</group>
	<group>
		<name value="SetValue"/>
		<typeMode value="none"/>
		<input>
			<name value="answerItem"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="observation"/>
			<mode value="target"/>
		</input>
		<rule>
			<name value="answer"/>
			<source>
				<context value="answerItem"/>
				<element value="answer"/>
				<variable value="answer"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="id"/>
				<variable value="id"/>
			</target>
			<rule>
				<name value="value"/>
				<source>
					<context value="answer"/>
					<element value="value"/>
					<variable value="vs"/>
				</source>
				<target>
					<context value="observation"/>
					<contextType value="variable"/>
					<element value="value"/>
					<transform value="copy"/>
					<parameter>
						<valueId value="vs"/>
					</parameter>
				</target>
			</rule>
		</rule>
	</group>
	<group>
		<name value="SetValueCodeableConcept"/>
		<typeMode value="none"/>
		<input>
			<name value="src"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="observation"/>
			<mode value="target"/>
		</input>
		<rule>
			<name value="answer"/>
			<source>
				<context value="src"/>
				<element value="answer"/>
				<variable value="answer"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="value"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="valueCoding"/>
				<source>
					<context value="answer"/>
					<element value="valueCoding"/>
					<variable value="coding"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="copy"/>
					<parameter>
						<valueId value="coding"/>
					</parameter>
				</target>
			</rule>
		</rule>
	</group>
	<group>
		<name value="SetValuesToComponents"/>
		<typeMode value="none"/>
		<input>
			<name value="answerItem"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="srcObservation"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="observation"/>
			<mode value="target"/>
		</input>
		<rule>
			<name value="answer"/>
			<source>
				<context value="answerItem"/>
				<element value="answer"/>
				<variable value="answer"/>
			</source>
			<target>
				<context value="observation"/>
				<contextType value="variable"/>
				<element value="component"/>
				<variable value="newComponent"/>
			</target>
			<target>
				<context value="newComponent"/>
				<contextType value="variable"/>
				<element value="value"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="valueCoding"/>
				<source>
					<context value="answer"/>
					<element value="valueCoding"/>
					<variable value="coding"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="copy"/>
					<parameter>
						<valueId value="coding"/>
					</parameter>
				</target>
			</rule>
			<rule>
				<name value="code"/>
				<source>
					<context value="srcObservation"/>
					<element value="code"/>
					<variable value="code"/>
				</source>
				<target>
					<context value="newComponent"/>
					<contextType value="variable"/>
					<element value="code"/>
					<transform value="copy"/>
					<parameter>
						<valueId value="code"/>
					</parameter>
				</target>
			</rule>
		</rule>
	</group>
	<group>
		<name value="SetObservationFullUrl"/>
		<typeMode value="none"/>
		<input>
			<name value="observation"/>
			<type value="Observation"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="entry"/>
			<mode value="target"/>
		</input>
		<rule>
			<name value="id"/>
			<source>
				<context value="observation"/>
				<element value="id"/>
				<variable value="id"/>
			</source>
			<target>
				<context value="entry"/>
				<contextType value="variable"/>
				<element value="fullUrl"/>
				<transform value="append"/>
				<parameter>
					<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/Observation/"/>
				</parameter>
				<parameter>
					<valueId value="id"/>
				</parameter>
			</target>
		</rule>
	</group>
	<group>
		<name value="TransformCondition"/>
		<typeMode value="none"/>
		<input>
			<name value="src"/>
			<type value="questionnaireResponse"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="bundle"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="condition"/>
			<type value="sdohccCondition"/>
			<mode value="target"/>
		</input>
		<input>
			<name value="entry"/>
			<mode value="target"/>
		</input>
		<rule>
			<name value="condition-full-url"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="condition"/>
				<contextType value="variable"/>
				<element value="id"/>
				<transform value="uuid"/>
			</target>
			<dependent>
				<name value="SetConditionFullUrl"/>
				<variable value="condition">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="entry">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="conditionMeta"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="condition"/>
				<contextType value="variable"/>
				<element value="meta"/>
				<variable value="newMeta"/>
				<transform value="create"/>
				<parameter>
					<valueString value="Meta"/>
				</parameter>
			</target>
			<rule>
				<name value="condition-meta-profile"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newMeta"/>
					<contextType value="variable"/>
					<element value="profile"/>
					<transform value="copy"/>
					<parameter>
						<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Condition"/>
					</parameter>
				</target>
			</rule>
		</rule>
		<rule>
			<name value="condition-clinical-status"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="condition"/>
				<contextType value="variable"/>
				<element value="clinicalStatus"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://terminology.hl7.org/CodeSystem/condition-clinical"/>
				</parameter>
				<parameter>
					<valueString value="active"/>
				</parameter>
				<parameter>
					<valueString value="Active"/>
				</parameter>
			</target>
		</rule>
		<rule>
			<name value="condition-verification-status"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="condition"/>
				<contextType value="variable"/>
				<element value="verificationStatus"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://terminology.hl7.org/CodeSystem/condition-ver-status"/>
				</parameter>
				<parameter>
					<valueString value="unconfirmed"/>
				</parameter>
				<parameter>
					<valueString value="Unconfirmed"/>
				</parameter>
			</target>
		</rule>
		<rule>
			<name value="condition-cat"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="condition"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="condition-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="condition-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/core/CodeSystem/condition-category"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="condition-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="health-concern"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="condition-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Health Concern"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="condition-onset"/>
			<source>
				<context value="src"/>
				<element value="authored"/>
				<variable value="authored"/>
			</source>
			<target>
				<context value="condition"/>
				<contextType value="variable"/>
				<element value="onset"/>
				<variable value="period"/>
				<transform value="create"/>
				<parameter>
					<valueString value="Period"/>
				</parameter>
			</target>
			<target>
				<context value="period"/>
				<contextType value="variable"/>
				<element value="start"/>
				<transform value="copy"/>
				<parameter>
					<valueId value="authored"/>
				</parameter>
			</target>
		</rule>
		<rule>
			<name value="subject"/>
			<source>
				<context value="src"/>
				<element value="subject"/>
				<variable value="qSubject"/>
			</source>
			<target>
				<context value="condition"/>
				<contextType value="variable"/>
				<element value="subject"/>
				<variable value="newReference"/>
				<transform value="create"/>
				<parameter>
					<valueString value="Reference"/>
				</parameter>
			</target>
			<rule>
				<name value="reference"/>
				<source>
					<context value="qSubject"/>
					<element value="reference"/>
					<variable value="qReference"/>
				</source>
				<target>
					<context value="newReference"/>
					<contextType value="variable"/>
					<element value="reference"/>
					<transform value="copy"/>
					<parameter>
						<valueId value="qReference"/>
					</parameter>
				</target>
			</rule>
			<rule>
				<name value="display"/>
				<source>
					<context value="qSubject"/>
					<element value="display"/>
					<variable value="qDisplay"/>
				</source>
				<target>
					<context value="newReference"/>
					<contextType value="variable"/>
					<element value="display"/>
					<transform value="copy"/>
					<parameter>
						<valueId value="qDisplay"/>
					</parameter>
				</target>
			</rule>
		</rule>
		<rule>
			<name value="subject"/>
			<source>
				<context value="src"/>
				<element value="subject"/>
				<variable value="qSubject"/>
			</source>
			<target>
				<context value="condition"/>
				<contextType value="variable"/>
				<element value="asserter"/>
				<variable value="newReference"/>
				<transform value="create"/>
				<parameter>
					<valueString value="Reference"/>
				</parameter>
			</target>
			<rule>
				<name value="reference"/>
				<source>
					<context value="qSubject"/>
					<element value="reference"/>
					<variable value="qReference"/>
				</source>
				<target>
					<context value="newReference"/>
					<contextType value="variable"/>
					<element value="reference"/>
					<transform value="copy"/>
					<parameter>
						<valueId value="qReference"/>
					</parameter>
				</target>
			</rule>
			<rule>
				<name value="display"/>
				<source>
					<context value="qSubject"/>
					<element value="display"/>
					<variable value="qDisplay"/>
				</source>
				<target>
					<context value="newReference"/>
					<contextType value="variable"/>
					<element value="display"/>
					<transform value="copy"/>
					<parameter>
						<valueId value="qDisplay"/>
					</parameter>
				</target>
			</rule>
		</rule>
		<rule>
			<name value="condition-entry-request"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="entry"/>
				<contextType value="variable"/>
				<element value="request"/>
				<variable value="request"/>
			</target>
			<rule>
				<name value="condition-request-method"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="request"/>
					<contextType value="variable"/>
					<element value="method"/>
					<transform value="copy"/>
					<parameter>
						<valueString value="POST"/>
					</parameter>
				</target>
			</rule>
			<rule>
				<name value="condition-request-url"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="request"/>
					<contextType value="variable"/>
					<element value="url"/>
					<transform value="copy"/>
					<parameter>
						<valueString value="Condition"/>
					</parameter>
				</target>
			</rule>
		</rule>
	</group>
	<group>
		<name value="SetConditionFullUrl"/>
		<typeMode value="none"/>
		<input>
			<name value="condition"/>
			<type value="sdohccCondition"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="entry"/>
			<mode value="target"/>
		</input>
		<rule>
			<name value="id"/>
			<source>
				<context value="condition"/>
				<element value="id"/>
				<variable value="id"/>
			</source>
			<target>
				<context value="entry"/>
				<contextType value="variable"/>
				<element value="fullUrl"/>
				<transform value="append"/>
				<parameter>
					<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/Condition/"/>
				</parameter>
				<parameter>
					<valueId value="id"/>
				</parameter>
			</target>
		</rule>
	</group>
	<group>
		<name value="SetConditionCodeAndEvidence1"/>
		<typeMode value="none"/>
		<input>
			<name value="src"/>
			<type value="questionnaireResponse"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="bundle"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="condition"/>
			<mode value="target"/>
		</input>
		<rule>
			<name value="condition-code"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="condition"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="newCodeCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="condition-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCodeCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="condition-code-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://snomed.info/sct"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="condition-code-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="32911000"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="condition-code-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Homeless"/>
						</parameter>
					</target>
				</rule>
			</rule>
			<rule>
				<name value="condition-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCodeCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding2"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="condition-code-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding2"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/sid/icd-10-cm"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="condition-code-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding2"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Z59.0"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="condition-code-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding2"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Homelessness"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="condition-cat"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="condition"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="condition-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="condition-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="condition-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="homelessness"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="condition-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Homelessness"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="entry"/>
			<source>
				<context value="bundle"/>
				<element value="entry"/>
				<variable value="entries"/>
			</source>
			<target>
				<context value="condition"/>
				<contextType value="variable"/>
				<element value="evidence"/>
				<variable value="evidence"/>
			</target>
			<target>
				<context value="evidence"/>
				<contextType value="variable"/>
				<element value="detail"/>
				<variable value="detailReference"/>
				<transform value="create"/>
				<parameter>
					<valueString value="Reference"/>
				</parameter>
			</target>
			<rule>
				<name value="condition-evidence"/>
				<source>
					<context value="entries"/>
					<element value="resource"/>
					<variable value="obs"/>
					<condition value="code.coding.code = '71802-3'"/>
				</source>
				<target>
					<context value="detailReference"/>
					<contextType value="variable"/>
					<element value="reference"/>
					<transform value="reference"/>
					<parameter>
						<valueId value="obs"/>
					</parameter>
				</target>
			</rule>
		</rule>
	</group>
	<group>
		<name value="SetConditionCodeAndEvidence2"/>
		<typeMode value="none"/>
		<input>
			<name value="src"/>
			<type value="questionnaireResponse"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="bundle"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="condition"/>
			<mode value="target"/>
		</input>
		<rule>
			<name value="condition-code"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="condition"/>
				<contextType value="variable"/>
				<element value="code"/>
				<variable value="newCodeCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="condition-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCodeCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="condition-code-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://snomed.info/sct"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="condition-code-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="73438004"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="condition-code-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Unemployed"/>
						</parameter>
					</target>
				</rule>
			</rule>
			<rule>
				<name value="condition-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCodeCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding2"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="condition-code-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding2"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/sid/icd-10-cm"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="condition-code-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding2"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Z56.0"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="condition-code-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding2"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Unemployment, unspecified"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="condition-cat"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="condition"/>
				<contextType value="variable"/>
				<element value="category"/>
				<variable value="newCC"/>
				<transform value="create"/>
				<parameter>
					<valueString value="CodeableConcept"/>
				</parameter>
			</target>
			<rule>
				<name value="condition-cat-coding"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newCC"/>
					<contextType value="variable"/>
					<element value="coding"/>
					<variable value="newCoding"/>
					<transform value="create"/>
					<parameter>
						<valueString value="Coding"/>
					</parameter>
				</target>
				<rule>
					<name value="condition-cat-coding-system"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="system"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="condition-cat-coding-code"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="code"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="employment-status"/>
						</parameter>
					</target>
				</rule>
				<rule>
					<name value="condition-cat-coding-display"/>
					<source>
						<context value="src"/>
					</source>
					<target>
						<context value="newCoding"/>
						<contextType value="variable"/>
						<element value="display"/>
						<transform value="copy"/>
						<parameter>
							<valueString value="Employment Status"/>
						</parameter>
					</target>
				</rule>
			</rule>
		</rule>
		<rule>
			<name value="entry"/>
			<source>
				<context value="bundle"/>
				<element value="entry"/>
				<variable value="entries"/>
			</source>
			<target>
				<context value="condition"/>
				<contextType value="variable"/>
				<element value="evidence"/>
				<variable value="evidence"/>
			</target>
			<target>
				<context value="evidence"/>
				<contextType value="variable"/>
				<element value="detail"/>
				<variable value="detailReference"/>
				<transform value="create"/>
				<parameter>
					<valueString value="Reference"/>
				</parameter>
			</target>
			<rule>
				<name value="condition-evidence"/>
				<source>
					<context value="entries"/>
					<element value="resource"/>
					<variable value="obs"/>
					<condition value="code.coding.code = '67875-5'"/>
				</source>
				<target>
					<context value="detailReference"/>
					<contextType value="variable"/>
					<element value="reference"/>
					<transform value="reference"/>
					<parameter>
						<valueId value="obs"/>
					</parameter>
				</target>
			</rule>
		</rule>
	</group>
	<group>
		<name value="TransformGroupObservation"/>
		<typeMode value="none"/>
		<input>
			<name value="src"/>
			<type value="questionnaireResponse"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="bundle"/>
			<type value="Bundle"/>
			<mode value="source"/>
		</input>
		<input>
			<name value="groupObservation"/>
			<type value="Observation"/>
			<mode value="target"/>
		</input>
		<input>
			<name value="entry"/>
			<mode value="target"/>
		</input>
		<rule>
			<name value="grp-obsnFullUrl"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="groupObservation"/>
				<contextType value="variable"/>
				<element value="id"/>
				<transform value="uuid"/>
			</target>
			<dependent>
				<name value="SetObservationFullUrl"/>
				<variable value="groupObservation">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
				<variable value="entry">
					<extension url="http://hl7.org/fhir/tools/StructureDefinition/original-item-type">
						<valueUrl value="id"/>
					</extension>
				</variable>
			</dependent>
		</rule>
		<rule>
			<name value="grp-obsn-status"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="groupObservation"/>
				<contextType value="variable"/>
				<element value="status"/>
				<transform value="copy"/>
				<parameter>
					<valueString value="final"/>
				</parameter>
			</target>
		</rule>
		<rule>
			<name value="grp-obsn-cat-social-history"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="groupObservation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://terminology.hl7.org/CodeSystem/observation-category"/>
				</parameter>
				<parameter>
					<valueString value="social-history"/>
				</parameter>
				<parameter>
					<valueString value="Social History"/>
				</parameter>
			</target>
		</rule>
		<rule>
			<name value="grp-obsn-cat-survey"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="groupObservation"/>
				<contextType value="variable"/>
				<element value="category"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://terminology.hl7.org/CodeSystem/observation-category"/>
				</parameter>
				<parameter>
					<valueString value="survey"/>
				</parameter>
				<parameter>
					<valueString value="Survey"/>
				</parameter>
			</target>
		</rule>
		<rule>
			<name value="grpObsMeta"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="groupObservation"/>
				<contextType value="variable"/>
				<element value="meta"/>
				<variable value="newMeta"/>
				<transform value="create"/>
				<parameter>
					<valueString value="Meta"/>
				</parameter>
			</target>
			<rule>
				<name value="grp-obsn-meta-profile"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="newMeta"/>
					<contextType value="variable"/>
					<element value="profile"/>
					<transform value="copy"/>
					<parameter>
						<valueString value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse"/>
					</parameter>
				</target>
			</rule>
		</rule>
		<rule>
			<name value="authored"/>
			<source>
				<context value="src"/>
				<element value="authored"/>
				<variable value="authored"/>
			</source>
			<target>
				<context value="groupObservation"/>
				<contextType value="variable"/>
				<element value="effective"/>
				<transform value="copy"/>
				<parameter>
					<valueId value="authored"/>
				</parameter>
			</target>
		</rule>
		<rule>
			<name value="grp-obsn-subject"/>
			<source>
				<context value="src"/>
				<element value="subject"/>
				<variable value="qSubject"/>
			</source>
			<target>
				<context value="groupObservation"/>
				<contextType value="variable"/>
				<element value="subject"/>
				<variable value="newReference"/>
				<transform value="create"/>
				<parameter>
					<valueString value="Reference"/>
				</parameter>
			</target>
			<rule>
				<name value="grp-obsn-subj-ref"/>
				<source>
					<context value="qSubject"/>
					<element value="reference"/>
					<variable value="qReference"/>
				</source>
				<target>
					<context value="newReference"/>
					<contextType value="variable"/>
					<element value="reference"/>
					<transform value="copy"/>
					<parameter>
						<valueId value="qReference"/>
					</parameter>
				</target>
			</rule>
			<rule>
				<name value="grp-obsn-subj-display"/>
				<source>
					<context value="qSubject"/>
					<element value="display"/>
					<variable value="qDisplay"/>
				</source>
				<target>
					<context value="newReference"/>
					<contextType value="variable"/>
					<element value="display"/>
					<transform value="copy"/>
					<parameter>
						<valueId value="qDisplay"/>
					</parameter>
				</target>
			</rule>
		</rule>
		<rule>
			<name value="grp-obsn-code"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="groupObservation"/>
				<contextType value="variable"/>
				<element value="code"/>
				<transform value="cc"/>
				<parameter>
					<valueString value="http://loinc.org"/>
				</parameter>
				<parameter>
					<valueString value="93025-5"/>
				</parameter>
			</target>
		</rule>
		<rule>
			<name value="grp-obsn-has-member"/>
			<source>
				<context value="bundle"/>
				<element value="entry"/>
				<variable value="entries"/>
			</source>
			<target>
				<context value="groupObservation"/>
				<contextType value="variable"/>
				<element value="hasMember"/>
				<variable value="df"/>
				<transform value="create"/>
				<parameter>
					<valueString value="Reference"/>
				</parameter>
			</target>
			<rule>
				<name value="grp-obsn-has-member-reference"/>
				<source>
					<context value="entries"/>
					<element value="resource"/>
					<variable value="obs"/>
					<condition value="status.exists() and hasMember.exists().not()"/>
				</source>
				<target>
					<context value="df"/>
					<contextType value="variable"/>
					<element value="reference"/>
					<transform value="reference"/>
					<parameter>
						<valueId value="obs"/>
					</parameter>
				</target>
			</rule>
		</rule>
		<rule>
			<name value="grp-obsn-derived-from"/>
			<source>
				<context value="src"/>
				<element value="id"/>
				<variable value="id"/>
			</source>
			<target>
				<context value="groupObservation"/>
				<contextType value="variable"/>
				<element value="derivedFrom"/>
				<variable value="newReference"/>
				<transform value="create"/>
				<parameter>
					<valueString value="Reference"/>
				</parameter>
			</target>
			<rule>
				<name value="grp-obsn-derived-from-reference"/>
				<source>
					<context value="id"/>
				</source>
				<target>
					<context value="newReference"/>
					<contextType value="variable"/>
					<element value="reference"/>
					<transform value="append"/>
					<parameter>
						<valueString value="QuestionnaireResponse/"/>
					</parameter>
					<parameter>
						<valueId value="id"/>
					</parameter>
				</target>
			</rule>
		</rule>
		<rule>
			<name value="obsn-entry-request"/>
			<source>
				<context value="src"/>
			</source>
			<target>
				<context value="entry"/>
				<contextType value="variable"/>
				<element value="request"/>
				<variable value="request"/>
			</target>
			<rule>
				<name value="obsn-request-method"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="request"/>
					<contextType value="variable"/>
					<element value="method"/>
					<transform value="copy"/>
					<parameter>
						<valueString value="POST"/>
					</parameter>
				</target>
			</rule>
			<rule>
				<name value="obsn-request-url"/>
				<source>
					<context value="src"/>
				</source>
				<target>
					<context value="request"/>
					<contextType value="variable"/>
					<element value="url"/>
					<transform value="copy"/>
					<parameter>
						<valueString value="Observation"/>
					</parameter>
				</target>
			</rule>
		</rule>
	</group>
</StructureMap>
