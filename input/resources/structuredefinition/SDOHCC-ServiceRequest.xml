<?xml version="1.0" encoding="UTF-8"?>
<StructureDefinition
    xmlns="http://hl7.org/fhir">
    <id value="SDOHCC-ServiceRequest"/>
    <meta>
        <versionId value="21"/>
        <lastUpdated value="2022-04-15T15:21:36.534+00:00"/>
        <source value="#njgeVCfVcQ8PeHO7"/>
    </meta>
    <url value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ServiceRequest"/>
    <version value="0.1.0"/>
    <name value="SDOHCCServiceRequest"/>
    <title value="SDOHCC ServiceRequest"/>
    <status value="draft"/>
    <date value="2020-12-14T04:01:34+00:00"/>
    <description value="Profile for service requests that address Social Determinants of Health."/>
    <jurisdiction>
        <coding>
            <system value="urn:iso:std:iso:3166"/>
            <code value="US"/>
        </coding>
    </jurisdiction>
    <fhirVersion value="4.0.1"/>
    <mapping>
        <identity value="workflow"/>
        <uri value="http://hl7.org/fhir/workflow"/>
        <name value="Workflow Pattern"/>
    </mapping>
    <mapping>
        <identity value="v2"/>
        <uri value="http://hl7.org/v2"/>
        <name value="HL7 v2 Mapping"/>
    </mapping>
    <mapping>
        <identity value="rim"/>
        <uri value="http://hl7.org/v3"/>
        <name value="RIM Mapping"/>
    </mapping>
    <mapping>
        <identity value="w5"/>
        <uri value="http://hl7.org/fhir/fivews"/>
        <name value="FiveWs Pattern Mapping"/>
    </mapping>
    <mapping>
        <identity value="quick"/>
        <uri value="http://siframework.org/cqf"/>
        <name value="Quality Improvement and Clinical Knowledge (QUICK)"/>
    </mapping>
    <kind value="resource"/>
    <abstract value="false"/>
    <type value="ServiceRequest"/>
    <baseDefinition value="http://hl7.org/fhir/StructureDefinition/ServiceRequest"/>
    <derivation value="constraint"/>
    <differential>
        <element id="ServiceRequest">
            <path value="ServiceRequest"/>
            <short value="A request for a service to address an SDOH condition, observation or goal."/>
            <definition value="For service requests that address SDOH conditions, observations or goals."/>
            <comment value="Many of the SDOHCC profiles reference one another. One flow supported by this IG is that QuestionnaireResponses result in Observations that can be used as evidence for Conditions that can lead to Goals, ServiceRequests and Procedures. However, alternatives paths are also possible."/>
        </element>
        <element id="ServiceRequest.extension">
            <path value="ServiceRequest.extension"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="url"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <min value="0"/>
        </element>
        <element id="ServiceRequest.extension:pertainsToGoal">
            <path value="ServiceRequest.extension"/>
            <sliceName value="pertainsToGoal"/>
            <short value="Pertains to SDOH goal"/>
            <definition value="Indicates that the resource is related to either the measurement, achievement or progress towards the referenced goal.  For example, a ServiceRequest to provide food vouchers pertainsToGoal of achieving food security."/>
            <requirements value="Indicates that the service request is related to the referenced SDOHCC Goal."/>
            <min value="0"/>
            <type>
                <code value="Extension"/>
                <profile value="http://hl7.org/fhir/StructureDefinition/resource-pertainsToGoal"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="ServiceRequest.extension:pertainsToGoal.value[x]">
            <path value="ServiceRequest.extension.value[x]"/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Goal"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="ServiceRequest.basedOn">
            <path value="ServiceRequest.basedOn"/>
            <slicing>
                <discriminator>
                    <type value="profile"/>
                    <path value="resolve()"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/CarePlan"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/ServiceRequest"/>
            </type>
        </element>
        <element id="ServiceRequest.basedOn:SupportedBasedOn">
            <path value="ServiceRequest.basedOn"/>
            <sliceName value="SupportedBasedOn"/>
            <requirements value="Allows an organization (e.g., a Coordination Platform) to create a ServiceRequest for another organization (e.g., a Community Based Organization) based on a SDOHCC ServiceRequest from a referral source (e.g., a provider or a payor involved in care management)."/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ServiceRequest"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="ServiceRequest.status">
            <path value="ServiceRequest.status"/>
            <comment value="The status is generally fully in the control of the requester - they determine whether the order is draft or active and, after it has been activated, competed, cancelled or suspended. States relating to the activities of the performer are reflected on either the corresponding event (see [Event Pattern](event.html) for general discussion) or using the [Task](task.html) resource.&#xD;&#xA;&#xD;&#xA;While all values are currently allowed, there may be a constraint on the values in future releases based on implementation feedback."/>
            <mustSupport value="true"/>
        </element>
        <element id="ServiceRequest.intent">
            <path value="ServiceRequest.intent"/>
            <comment value="This element is labeled as a modifier because the intent alters when and how the resource is actually applicable. While all values are currently allowed, there may be a contraint on the values in future releases based on implementation feedback."/>
            <mustSupport value="true"/>
        </element>
        <element id="ServiceRequest.category">
            <path value="ServiceRequest.category"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="$this"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <definition value="A code that classifies the service for searching, sorting and display purposes (e.g., Education)."/>
        </element>
        <element id="ServiceRequest.category:SDOH">
            <path value="ServiceRequest.category"/>
            <sliceName value="SDOH"/>
            <short value="e.g., food-insecurity | transportation-insecurity"/>
            <definition value="A SDOH category assigned to the requested service."/>
            <requirements value="Codes from this value set can be used to assign one or more SDOH categories (e.g., food-insecurity, transportation-insecurity, etc.) to a service request. It is recommended that SDOH category codes be used to facilitate searching for service requests that address SDOH conditions. observations, or goals."/>
            <mustSupport value="true"/>
            <binding>
                <strength value="required"/>
                <description value="Codes for high-level SDOH categories."/>
                <valueSet value="http://hl7.org/fhir/us/sdoh-clinicalcare/ValueSet/SDOHCC-ValueSetSDOHCategory"/>
            </binding>
        </element>
        <element id="ServiceRequest.priority">
            <path value="ServiceRequest.priority"/>
            <mustSupport value="true"/>
        </element>
        <element id="ServiceRequest.code">
            <path value="ServiceRequest.code"/>
            <short value="What is being requested/ordered."/>
            <definition value="A code that identifies a particular service (e.g., procedure) that has been requested."/>
            <comment value="As the Gravity Project continues to refine content for the SDOH categories (e.g., food, housing, transportation, etc.), this value set will be refined to codes that pertain to SDOH categories. For further guidance on external value sets vetted by the Gravity Project see: [SDOH terminology guidance](support_for_multiple_domains.html#external-value-set-guidance)"/>
            <min value="1"/>
            <mustSupport value="true"/>
            <binding>
                <strength value="required"/>
                <description value="Codes for tests or services that can be carried out by a designated individual, organization or healthcare service."/>
                <valueSet value="http://hl7.org/fhir/us/core/ValueSet/us-core-procedure-code"/>
            </binding>
        </element>
        <element id="ServiceRequest.code.coding">
            <path value="ServiceRequest.code.coding"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="$this"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <comment value="Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.&#xD;&#xA;&#xD;&#xA;Where more than one coding is used, the codings should have overlapping meaning. For example, a code related to providing meal vouchers and a code related to home delivered meals may be appropriate. However, a code related to providing meal vouchers and a code related to providing transportation vouchers would not be appropriate."/>
            <mustSupport value="true"/>
        </element>
        <element id="ServiceRequest.code.coding:211LA">
            <path value="ServiceRequest.code.coding"/>
            <sliceName value="211LA"/>
            <short value="Code defined by 211 LA County Taxonomy"/>
            <definition value="A reference to a code defined by 211 LA County Taxonomy."/>
            <comment value="Codes may be defined very casually in enumerations, or code lists, up to very formal definitions such as SNOMED CT - see the HL7 v3 Core Principles for more information.  Ordering of codings is undefined and SHALL NOT be used to infer meaning. Generally, at most only one of the coding values will be labeled as UserSelected = true.&#xD;&#xA;&#xD;&#xA;Where more than one coding is used, the codings should have overlapping meaning. For example, a code related to providing meal vouchers and a code related to home delivered meals may be appropriate. However, a code related to providing meal vouchers and a code related to providing transportation vouchers would not be appropriate."/>
            <mustSupport value="true"/>
            <binding>
                <strength value="required"/>
                <description value="211 LA County codes"/>
                <valueSet value="http://hl7.org/fhir/us/sdoh-clinicalcare/ValueSet/SDOHCC-ValueSet211LACounty"/>
            </binding>
        </element>
        <element id="ServiceRequest.orderDetail">
            <path value="ServiceRequest.orderDetail"/>
            <slicing>
                <discriminator>
                    <type value="pattern"/>
                    <path value="coding"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
        </element>
        <element id="ServiceRequest.orderDetail:SubjectContactDetail">
            <path value="ServiceRequest.orderDetail"/>
            <sliceName value="SubjectContactDetail"/>
            <requirements value="Allows flagging of a service request where the subject of the request explictly designates that they do not want to be contacted (e.g., in domestic violence cases where contact may place subject at risk)."/>
            <max value="1"/>
            <fixedCodeableConcept>
                <coding>
                    <system value="http://hl7.org/fhir/us/sdoh-clinicalcare/CodeSystem/SDOHCC-CodeSystemTemporaryCodes"/>
                    <code value="contacting-subject-prohibited"/>
                </coding>
            </fixedCodeableConcept>
            <mustSupport value="true"/>
        </element>
        <element id="ServiceRequest.subject">
            <path value="ServiceRequest.subject"/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Group"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-location"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="ServiceRequest.occurrence[x]">
            <path value="ServiceRequest.occurrence[x]"/>
            <mustSupport value="true"/>
        </element>
        <element id="ServiceRequest.authoredOn">
            <path value="ServiceRequest.authoredOn"/>
            <mustSupport value="true"/>
        </element>
        <element id="ServiceRequest.requester">
            <path value="ServiceRequest.requester"/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/RelatedPerson"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Device"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-practitionerrole"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-practitioner"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-organization"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="ServiceRequest.performer">
            <path value="ServiceRequest.performer"/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/HealthcareService"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Device"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/RelatedPerson"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-practitioner"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-practitionerrole"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-organization"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-careteam"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="ServiceRequest.reasonCode">
            <path value="ServiceRequest.reasonCode"/>
            <comment value="This element represents why the referral is being made and may be used to decide how the service will be performed, or even if it will be performed at all.   Use `CodeableConcept.text` element if the data is free (uncoded) text as shown in the [CT Scan example](servicerequest-example-di.html).&#xD;&#xA;&#xD;&#xA;Information represented by ServiceRequest.reasonCode may overlap significantly with information represented by ServiceRequest.reasonReference. Multiple approaches to representing the same information may negatively impact interoperability. Therefore, where similar information could be provided by either ServiceRequest.reasonCode or ServiceRequest.reasonReference, it is recommended that ServiceRequest.reasonReference be used to provide a reason for why a service request was made.&#xD;&#xA;&#xD;&#xA;As the Gravity Project continues to refine content for the SDOH categories (e.g., food, housing, transportation, etc.), this value set may be refined to codes that pertain to SDOH categories."/>
        </element>
        <element id="ServiceRequest.reasonReference">
            <path value="ServiceRequest.reasonReference"/>
            <slicing>
                <discriminator>
                    <type value="profile"/>
                    <path value="resolve()"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <comment value="This element represents why the referral is being made and may be used to decide how the service will be performed, or even if it will be performed at all.  To be as specific as possible,  a reference to  *Observation* or *Condition* should be used if available.  Otherwise when referencing  *DiagnosticReport*  it should contain a finding  in `DiagnosticReport.conclusion` and/or `DiagnosticReport.conclusionCode`.   When using a reference to *DocumentReference*, the target document should contain clear findings language providing the relevant reason for this service request.  Use the CodeableConcept text element in `ServiceRequest.reasonCode` if the data is free (uncoded) text.&#xD;&#xA;&#xD;&#xA;Additionally, see Comment on reasonCode."/>
        </element>
        <element id="ServiceRequest.reasonReference:SupportedReasonReference">
            <path value="ServiceRequest.reasonReference"/>
            <sliceName value="SupportedReasonReference"/>
            <comment value="This element represents why the referral is being made and may be used to decide how the service will be performed, or even if it will be performed at all.    To be as specific as possible,  a reference to  *Observation* or *Condition* should be used if available.  Otherwise when referencing  *DiagnosticReport*  it should contain a finding  in `DiagnosticReport.conclusion` and/or `DiagnosticReport.conclusionCode`.   When using a reference to *DocumentReference*, the target document should contain clear findings language providing the relevant reason for this service request.  Use the CodeableConcept text element in `ServiceRequest.reasonCode` if the data is free (uncoded) text."/>
            <requirements value="When a service request is justified by one or more SDOH conditions or observations, ServiceRequest.reasonReference should reference instances that comply with the SDOHCC Condition profile, or one of the SDOHCC Observation profiles. However, references to other instance types are also possible."/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Condition"/>
                <targetProfile value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse"/>
                <targetProfile value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationAssessment"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="ServiceRequest.supportingInfo">
            <path value="ServiceRequest.supportingInfo"/>
            <slicing>
                <discriminator>
                    <type value="profile"/>
                    <path value="resolve()"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <definition value="Additional clinical information about the patient that may influence the services or their interpretations.     This information includes diagnosis, clinical findings and other observations."/>
        </element>
        <element id="ServiceRequest.supportingInfo:SupportedSupportingInfo">
            <path value="ServiceRequest.supportingInfo"/>
            <sliceName value="SupportedSupportingInfo"/>
            <definition value="Additional clinical information about the patient that may influence the services or their interpretations.     This information includes diagnosis, clinical findings and other observations."/>
            <requirements value="When a service request is supported by a SDOH consent, ServiceRequest.supportingInfo should reference instances that comply with the SDOHCC Consent profile. However, references to other instance types are also possible."/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Consent"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="ServiceRequest.specimen">
            <path value="ServiceRequest.specimen"/>
            <max value="0"/>
        </element>
        <element id="ServiceRequest.bodySite">
            <path value="ServiceRequest.bodySite"/>
            <max value="0"/>
        </element>
    </differential>
</StructureDefinition>