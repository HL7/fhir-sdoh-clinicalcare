<?xml version="1.0" encoding="UTF-8"?>
<StructureDefinition
    xmlns="http://hl7.org/fhir">
    <id value="SDOHCC-ObservationScreeningResponse"/>
    <meta>
        <versionId value="18"/>
        <lastUpdated value="2021-11-02T17:26:55.476+00:00"/>
        <source value="#FjWODIc3NE0Yd077"/>
    </meta>
    <url value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse"/>
    <version value="0.1.0"/>
    <name value="SDOHCCObservationScreeningResponse"/>
    <title value="SDOHCC Observation Screening Response"/>
    <status value="draft"/>
    <description value="Profile for observations that represent question and answer pairs from Social Determinants of Health (SDOH) screening instruments that are represented in LOINC. The Cross-Group Projects work group granted an exception to US Core on 12/03/2020 - Jira ticket 29795."/>
    <jurisdiction>
        <coding>
            <system value="urn:iso:std:iso:3166"/>
            <code value="US"/>
        </coding>
    </jurisdiction>
    <fhirVersion value="4.0.1"/>
    <mapping>
        <identity value="workflow"/>
        <uri value="http://hl7.org/fhir/workflow"/>
        <name value="Workflow Pattern"/>
    </mapping>
    <mapping>
        <identity value="sct-concept"/>
        <uri value="http://snomed.info/conceptdomain"/>
        <name value="SNOMED CT Concept Domain Binding"/>
    </mapping>
    <mapping>
        <identity value="v2"/>
        <uri value="http://hl7.org/v2"/>
        <name value="HL7 v2 Mapping"/>
    </mapping>
    <mapping>
        <identity value="rim"/>
        <uri value="http://hl7.org/v3"/>
        <name value="RIM Mapping"/>
    </mapping>
    <mapping>
        <identity value="w5"/>
        <uri value="http://hl7.org/fhir/fivews"/>
        <name value="FiveWs Pattern Mapping"/>
    </mapping>
    <mapping>
        <identity value="sct-attr"/>
        <uri value="http://snomed.org/attributebinding"/>
        <name value="SNOMED CT Attribute Binding"/>
    </mapping>
    <kind value="resource"/>
    <abstract value="false"/>
    <type value="Observation"/>
    <baseDefinition value="http://hl7.org/fhir/StructureDefinition/Observation"/>
    <derivation value="constraint"/>
    <differential>
        <element id="Observation">
            <path value="Observation"/>
            <short value="SDOH screening questionnaire observations"/>
            <definition value="For Observations derived from SDOH screening surveys/questionnaires."/>
            <comment value="Used for simple observations such as education status, food insecurity observations, etc.  &#xD;&#xA;This profile allows the representation of SDOH observations based on SDOH screening questionnaire responses (which can also be represented using SDC QuestionnaireResponse). &#xD;&#xA;&#xD;&#xA;Many of the SDOHCC profiles reference one another. One flow supported by this IG is that QuestionnaireResponses result in Observations that can be used as evidence for Conditions that can lead to Goals, ServiceRequests and Procedures. However, alternatives paths are also possible."/>
        </element>
        <element id="Observation.status">
            <path value="Observation.status"/>
            <short value="final | corrected | entered-in-error | unknown"/>
            <definition value="The status of the observation value."/>
            <requirements value="Further constrained to values that are relevant for SDOH."/>
            <mustSupport value="true"/>
            <binding>
                <strength value="required"/>
                <valueSet value="http://hl7.org/fhir/us/sdoh-clinicalcare/ValueSet/SDOHCC-ValueSetObservationStatus"/>
            </binding>
        </element>
        <element id="Observation.category">
            <path value="Observation.category"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="$this"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <requirements value="To identify that an SDOH screening response observation is derived from an SDOH questionnaire, the “social-history” and “survey” codes are required."/>
            <min value="2"/>
        </element>
        <element id="Observation.category:SocialHistory">
            <path value="Observation.category"/>
            <sliceName value="SocialHistory"/>
            <requirements value="Used for filtering that this is a social history observation."/>
            <min value="1"/>
            <max value="1"/>
            <patternCodeableConcept>
                <coding>
                    <system value="http://terminology.hl7.org/CodeSystem/observation-category"/>
                    <code value="social-history"/>
                </coding>
            </patternCodeableConcept>
            <mustSupport value="true"/>
        </element>
        <element id="Observation.category:Survey">
            <path value="Observation.category"/>
            <sliceName value="Survey"/>
            <requirements value="Used for filtering what that this is an observation derived from a survey/questionnaire."/>
            <min value="1"/>
            <max value="1"/>
            <patternCodeableConcept>
                <coding>
                    <system value="http://terminology.hl7.org/CodeSystem/observation-category"/>
                    <code value="survey"/>
                </coding>
            </patternCodeableConcept>
            <mustSupport value="true"/>
        </element>
        <element id="Observation.category:SDOH">
            <path value="Observation.category"/>
            <sliceName value="SDOH"/>
            <short value="e.g., food-insecurity | transportation-insecurity"/>
            <definition value="A code that classifies the general type of SDOH observation being made."/>
            <requirements value="Codes from this value set can be used to assign one or more SDOH categories (e.g., food-insecurity, transportation-insecurity, etc.) to an observation. It is recommended that SDOH category codes be used to facilitate searching for SDOH observations."/>
            <mustSupport value="true"/>
            <binding>
                <strength value="required"/>
                <description value="Codes for high-level SDOH categories."/>
                <valueSet value="http://hl7.org/fhir/us/sdoh-clinicalcare/ValueSet/SDOHCC-ValueSetSDOHCategory"/>
            </binding>
        </element>
        <element id="Observation.code">
            <path value="Observation.code"/>
            <comment value="*All* code-value and, if present, component.code-component.value pairs need to be taken into account to correctly understand the meaning of the observation.&#xD;&#xA;&#xD;&#xA;For SDOH questions represented in LOINC that specify “check all that apply”, the LOINC question should be used for Observation.code and for Observation.component.code. For “check all that apply” questions, the answers (regardless of whether one or more are selected) should only be represented using Observation.component.value and Observation.value should be empty. &#xD;&#xA;&#xD;&#xA;As the Gravity Project continues to refine content for the SDOH categories (e.g., food, housing, transportation, etc.), this value set will be refined to codes that pertain to SDOH categories."/>
            <requirements value="Knowing what kind of observation is being made is essential to understanding the observation.&#xD;&#xA;&#xD;&#xA;The Gravity implemenation guide restricts questionnaire/survey observations to LOINC to move the industry to the use of LOINC panels/surveys (structures that are not available in other terminology systems) to standardize the coding of SDOH related risk assessment instruments. In addition, USCDI and US Core have standardized on the use of LOINC to represent Observations in general."/>
            <mustSupport value="true"/>
            <binding>
                <strength value="required"/>
            </binding>
        </element>
        <element id="Observation.subject">
            <path value="Observation.subject"/>
            <comment value="Cardinality is 1..1."/>
            <min value="1"/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="Observation.effective[x]">
            <path value="Observation.effective[x]"/>
            <definition value="The time or time-period the observed value is asserted as being true. For biological subjects - e.g. human patients - this is usually called the &quot;physiologically relevant time&quot;."/>
            <comment value="At least a date should be present unless this observation is a historical report."/>
            <min value="1"/>
            <type>
                <code value="dateTime"/>
            </type>
            <type>
                <code value="Period"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="Observation.performer">
            <path value="Observation.performer"/>
            <requirements value="Some questions on an SDOH screening questionnaire are not answered directly (e.g., asserted) by the individual completing the questionnaire. Rather, the answer to some questions (e.g., the Hunger Vital Sign 88124-3 “Food insecurity risk”) may be derived from answers to one or more other questions. For a Screening Response Observation that is derived, as opposed to answered directly, Observation.performer should not be specified and Observation.derivedFrom should reference the relevant Screening Response Observation(s)."/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/RelatedPerson"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-practitioner"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-practitionerrole"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-organization"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-careteam"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="Observation.value[x]">
            <path value="Observation.value[x]"/>
            <slicing>
                <discriminator>
                    <type value="type"/>
                    <path value="$this"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <comment value="An observation may have; 1)  a single value here, 2)  both a value and a set of related or component values,  or 3)  only a set of related or component values. If a value is present, the datatype for this element should be determined by Observation.code.  A CodeableConcept with just a text would be used instead of a string if the field was usually coded, or if the type associated with the Observation.code defines a coded value."/>
            <meaningWhenMissing value="Observation.value may be missing in two cases:&#xD;&#xA;1) For SDOH questions represented in LOINC that allow one answer, If the LOINC Normative Answer List for a LOINC code offers an adequate code for why an Observation.value may not be known, it should be used as the value for Observation.value. However, If the LOINC Normative Answer List for a LOINC code does not offer an adequate code for why an Observation.value may not be known, Observation.dataAbsentReason should be used in lieu of Observation.value.&#xD;&#xA;&#xD;&#xA;2) For SDOH questions represented in LOINC that specify “check all that apply”, the LOINC question should be used for Observation.code and for Observation.component.code. For “check all that apply” questions, the answers (regardless of whether one or more are selected) should only be represented using Observation.component.value and Observation.value should be empty."/>
            <mustSupport value="true"/>
        </element>
        <element id="Observation.value[x]:valueQuantity">
            <path value="Observation.value[x]"/>
            <sliceName value="valueQuantity"/>
            <type>
                <code value="Quantity"/>
            </type>
            <binding>
                <strength value="required"/>
                <description value="This is the entire UCUM code set."/>
                <valueSet value="http://terminology.hl7.org/ValueSet/v3-UnitsOfMeasureCaseSensitive"/>
            </binding>
        </element>
        <element id="Observation.value[x]:valueCodeableConcept">
            <path value="Observation.valueCodeableConcept"/>
            <sliceName value="valueCodeableConcept"/>
            <comment value="An observation may have; 1)  a single value here, 2)  both a value and a set of related or component values,  or 3)  only a set of related or component values. If a value is present, the datatype for this element should be determined by Observation.code.  A CodeableConcept with just a text would be used instead of a string if the field was usually coded, or if the type associated with the Observation.code defines a coded value.  For additional guidance, see the [Notes section](observation.html#notes) below.&#xD;&#xA;&#xD;&#xA;As the Gravity Project continues to refine content for the SDOH categories (e.g., food, housing, transportation, etc.), this value set will be refined to codes that pertain to SDOH categories."/>
            <type>
                <code value="CodeableConcept"/>
            </type>
            <binding>
                <strength value="preferred"/>
                <valueSet value="http://hl7.org/fhir/ValueSet/observation-codes"/>
            </binding>
        </element>
        <element id="Observation.dataAbsentReason">
            <path value="Observation.dataAbsentReason"/>
            <comment value="&quot;Null&quot; or exceptional values can be represented two ways in FHIR Observations.  One way is to simply include them in the value set and represent the exceptions in the value.  The alternate way is to use the value element for actual observations and use the explicit dataAbsentReason element to record exceptional values. For a given LOINC question, if the LOINC answer list includes concepts such as 'unknown' or 'not available', they should be used for Observation.value. Where these concepts are not part of the value set for Observation.value, the Observation.dataAbsentReason can be used if necessary and appropriate."/>
            <mustSupport value="true"/>
        </element>
        <element id="Observation.bodySite">
            <path value="Observation.bodySite"/>
            <max value="0"/>
        </element>
        <element id="Observation.specimen">
            <path value="Observation.specimen"/>
            <max value="0"/>
        </element>
        <element id="Observation.hasMember">
            <path value="Observation.hasMember"/>
            <definition value="Used when an observation is a group observation (e.g., the LOINC 88121-9 Hunger Vital Sign [HVS] panel) that includes the target as a member of the group."/>
        </element>
        <element id="Observation.derivedFrom">
            <path value="Observation.derivedFrom"/>
            <slicing>
                <discriminator>
                    <type value="profile"/>
                    <path value="resolve()"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/DocumentReference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/QuestionnaireResponse"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Observation"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="Observation.derivedFrom:SupportedDerivedFrom">
            <path value="Observation.derivedFrom"/>
            <sliceName value="SupportedDerivedFrom"/>
            <short value="Related questionnaire responses or observations that the observation is made from"/>
            <definition value="Questionnaire responses or observations from which this observation value is derived."/>
            <requirements value="When an screening response observation is based on a survey question that is answered directly by the patient, Observation.derivedFrom should reference instances that comply with the SDC QuestionnaireResponse. When an observation is based on a survey question answer that is derived from one or more other survey question answers (as opposed to answered directly), Observation.derivedFrom should reference instances that comply with SDOHCC Screening Response Observation (e.g., observations generated from questions that were answered directly). However, references to other instance types are also possible."/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse"/>
                <targetProfile value="http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaireresponse"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="Observation.component">
            <path value="Observation.component"/>
            <definition value="Some observations have multiple component observations.  These component observations are expressed as separate code value pairs that share the same attributes.  Examples:&#xD;&#xA;1) Individuals may be multiracial. Component is used to capture one or more races.&#xD;&#xA;2) “Material hardship” can be assessed based on a number of factors (adequate food, clothing, utilities, etc.). One, or all, of which can be captured using Component."/>
            <comment value="For SDOH questions represented in LOINC that specify “check all that apply”, the LOINC question should be used for Observation.code and for Observation.component.code. For “check all that apply” questions, the answers (regardless of whether one or more are selected) should only be represented using Observation.component.value and Observation.value should be empty."/>
        </element>
        <element id="Observation.component.code">
            <path value="Observation.component.code"/>
            <comment value="*All* code-value and  component.code-component.value pairs need to be taken into account to correctly understand the meaning of the observation.&#xD;&#xA;&#xD;&#xA;As the Gravity Project continues to refine content for the SDOH categories (e.g., food, housing, transportation, etc.), this value set will be refined to codes that pertain to SDOH categories."/>
            <requirements value="Knowing what kind of observation is being made is essential to understanding the observation.&#xD;&#xA;&#xD;&#xA;LOINC codes are required because Gravity intends to use only LOINC encoded Questionnaires to generate QuestionnaireResponses which, in turn, will generate Screening Response Observations."/>
            <mustSupport value="true"/>
            <binding>
                <strength value="required"/>
            </binding>
        </element>
        <element id="Observation.component.value[x]">
            <path value="Observation.component.value[x]"/>
            <slicing>
                <discriminator>
                    <type value="type"/>
                    <path value="$this"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <meaningWhenMissing value="If the LOINC Normative Answer List for a LOINC code offers an adequate code for why a value may not be known, that code should be used for Observation.component.value . &#xD;&#xA;If the LOINC Normative Answer List for a LOINC code does not offer an adequate code for why a value may not be known,  Observation.component.dataAbsentReason should be used in lieu of Observation.component.value ."/>
            <mustSupport value="true"/>
        </element>
        <element id="Observation.component.value[x]:valueCodeableConcept">
            <path value="Observation.component.valueCodeableConcept"/>
            <sliceName value="valueCodeableConcept"/>
            <comment value="Used when observation has a set of component observations. An observation may have both a value (e.g. an  Apgar score)  and component observations (the observations from which the Apgar score was derived). If a value is present, the datatype for this element should be determined by Observation.code. A CodeableConcept with just a text would be used instead of a string if the field was usually coded, or if the type associated with the Observation.code defines a coded value.  For additional guidance, see the [Notes section](observation.html#notes) below. &#xD;&#xA;&#xD;&#xA;As the Gravity Project continues to refine content for the SDOH categories (e.g., food, housing, transportation, etc.), this value set will be refined to codes that pertain to SDOH categories."/>
            <type>
                <code value="CodeableConcept"/>
            </type>
            <binding>
                <strength value="preferred"/>
                <valueSet value="http://hl7.org/fhir/ValueSet/observation-codes"/>
            </binding>
        </element>
        <element id="Observation.component.value[x]:valueQuantity">
            <path value="Observation.component.value[x]"/>
            <sliceName value="valueQuantity"/>
            <type>
                <code value="Quantity"/>
            </type>
            <binding>
                <strength value="required"/>
                <description value="This is the entire UCUM code set."/>
                <valueSet value="http://terminology.hl7.org/ValueSet/v3-UnitsOfMeasureCaseSensitive"/>
            </binding>
        </element>
        <element id="Observation.component.dataAbsentReason">
            <path value="Observation.component.dataAbsentReason"/>
            <comment value="&quot;Null&quot; or exceptional values can be represented two ways in FHIR Observations.  One way is to simply include them in the value set and represent the exceptions in the value.  The alternate way is to use the value element for actual observations and use the explicit dataAbsentReason element to record exceptional values.  For a given &quot;check all that apply&quot; LOINC question, if the LOINC answer list includes concepts such as 'unknown' or 'not available', they should be used for Observation.component.value. Where these concepts are not part of the value set for Observation.component.value, the Observation.component.dataAbsentReason can be used if necessary and appropriate."/>
            <mustSupport value="true"/>
        </element>
        <element id="Observation.component.interpretation">
            <path value="Observation.component.interpretation"/>
            <max value="0"/>
        </element>
        <element id="Observation.component.referenceRange">
            <path value="Observation.component.referenceRange"/>
            <max value="0"/>
        </element>
    </differential>
</StructureDefinition>