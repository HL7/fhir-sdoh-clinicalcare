<?xml version="1.0" encoding="UTF-8"?>
<StructureDefinition
    xmlns="http://hl7.org/fhir">
    <id value="SDOHCC-ObservationAssessment"/>
    <meta>
        <versionId value="17"/>
        <lastUpdated value="2022-07-15T15:56:06.623+00:00"/>
        <source value="#fTdeyjCrP270BOlu"/>
    </meta>
    <url value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationAssessment"/>
    <name value="SDOHCCObservationAssessment"/>
    <title value="SDOHCC Observation Assessment"/>
    <status value="draft"/>
    <description value="Profile for Social Determinants of Health (SDOH) observations that involve assessment (e.g., by a provider, payer, etc.) as opposed to being derived only from screening surveys (as is the case for the SDOHCC Screening Response Observation). The Cross-Group Projects work group granted a variance to US Core on 06/10/2021 - Jira ticket FHIR-32892."/>
    <fhirVersion value="4.0.1"/>
    <mapping>
        <identity value="workflow"/>
        <uri value="http://hl7.org/fhir/workflow"/>
        <name value="Workflow Pattern"/>
    </mapping>
    <mapping>
        <identity value="sct-concept"/>
        <uri value="http://snomed.info/conceptdomain"/>
        <name value="SNOMED CT Concept Domain Binding"/>
    </mapping>
    <mapping>
        <identity value="v2"/>
        <uri value="http://hl7.org/v2"/>
        <name value="HL7 v2 Mapping"/>
    </mapping>
    <mapping>
        <identity value="rim"/>
        <uri value="http://hl7.org/v3"/>
        <name value="RIM Mapping"/>
    </mapping>
    <mapping>
        <identity value="w5"/>
        <uri value="http://hl7.org/fhir/fivews"/>
        <name value="FiveWs Pattern Mapping"/>
    </mapping>
    <mapping>
        <identity value="sct-attr"/>
        <uri value="http://snomed.org/attributebinding"/>
        <name value="SNOMED CT Attribute Binding"/>
    </mapping>
    <kind value="resource"/>
    <abstract value="true"/>
    <type value="Observation"/>
    <baseDefinition value="http://hl7.org/fhir/StructureDefinition/Observation"/>
    <derivation value="constraint"/>
    <differential>
        <element id="Observation">
            <path value="Observation"/>
            <short value="SDOH assessment observation"/>
            <definition value="For SDOH observations derived from assessment of the individual."/>
            <comment value="For representation of SDOH observations that involve assessment (e.g., by a provider or payer) as opposed to being derived only from screening surveys (as is the case for the SDOHCC Screening Response Observation).&#xD;&#xA;&#xD;&#xA;Many of the SDOHCC profiles reference one another. One flow supported by this IG is that QuestionnaireResponses result in Observations that can be used as evidence for Conditions that can lead to Goals, ServiceRequests and Procedures. However, alternatives paths are also possible."/>
        </element>
        <element id="Observation.status">
            <path value="Observation.status"/>
            <mustSupport value="true"/>
        </element>
        <element id="Observation.category">
            <path value="Observation.category"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="$this"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <min value="1"/>
        </element>
        <element id="Observation.category:SocialHistory">
            <path value="Observation.category"/>
            <sliceName value="SocialHistory"/>
            <requirements value="Used for filtering that this is a social history observation."/>
            <min value="1"/>
            <max value="1"/>
            <patternCodeableConcept>
                <coding>
                    <system value="http://terminology.hl7.org/CodeSystem/observation-category"/>
                    <code value="social-history"/>
                </coding>
            </patternCodeableConcept>
            <mustSupport value="true"/>
        </element>
        <element id="Observation.category:SDOH">
            <path value="Observation.category"/>
            <sliceName value="SDOH"/>
            <short value="e.g., food-insecurity | transportation-insecurity"/>
            <definition value="An SDOH category assigned to the observation."/>
            <requirements value="Codes from this value set can be used to assign one or more SDOH categories (e.g., food-insecurity, transportation-insecurity, etc.) to an observation. It is recommended that SDOH category codes be used to facilitate searching for SDOH observations."/>
            <mustSupport value="true"/>
            <binding>
                <strength value="required"/>
                <description value="Codes for high-level SDOH categories."/>
                <valueSet value="http://hl7.org/fhir/us/sdoh-clinicalcare/ValueSet/SDOHCC-ValueSetSDOHCategory"/>
            </binding>
        </element>
        <element id="Observation.code">
            <path value="Observation.code"/>
            <comment value="*All* code-value and, if present, component.code-component.value pairs need to be taken into account to correctly understand the meaning of the observation.&#xD;&#xA;&#xD;&#xA;As the Gravity Project continues to refine content for the SDOH categories (e.g., food, housing, transportation, etc.), this value set binding strength may change and may be refined to codes (including LOINC and SNOMED) that pertain to SDOH categories."/>
            <mustSupport value="true"/>
            <binding>
                <strength value="preferred"/>
                <valueSet value="http://hl7.org/fhir/us/sdoh-clinicalcare/ValueSet/SDOHCC-ValueSetLOINCSNOMEDCT"/>
            </binding>
        </element>
        <element id="Observation.subject">
            <path value="Observation.subject"/>
            <min value="1"/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Group"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="Observation.effective[x]">
            <path value="Observation.effective[x]"/>
            <comment value="At least a date should be present unless this observation is a historical report.  For recording imprecise or &quot;fuzzy&quot; times (For example, a blood glucose measurement taken &quot;after breakfast&quot;) use the [Timing](datatypes.html#timing) datatype which allow the measurement to be tied to regular life events. NOTE: dateTime is Must Support, but currently tooling does not support this."/>
        </element>
        <element id="Observation.performer">
            <path value="Observation.performer"/>
            <comment value="References SHALL be a reference to an actual FHIR resource, and SHALL be resolveable (allowing for access control, temporary unavailability, etc.). Resolution can be either by retrieval from the URL, or, where applicable by resource type, by treating an absolute reference as a canonical URL and looking it up in a local registry/repository. NOTE: US Core Practitioner is Must Support, but currently tooling does not support this."/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/RelatedPerson"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-patient"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-practitioner"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-practitionerrole"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-organization"/>
                <targetProfile value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-careteam"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="Observation.value[x]">
            <path value="Observation.value[x]"/>
            <mustSupport value="true"/>
        </element>
    </differential>
</StructureDefinition>