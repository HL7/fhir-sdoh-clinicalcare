<?xml version="1.0" encoding="UTF-8"?>
<StructureDefinition
    xmlns="http://hl7.org/fhir">
    <id value="SDOHCC-Procedure"/>
    <meta>
        <versionId value="19"/>
        <lastUpdated value="2022-10-19T17:02:29.639+00:00"/>
        <source value="#Z7191TbvZLv65Z6X"/>
    </meta>
    <url value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Procedure"/>
    <version value="0.1.0"/>
    <name value="SDOHCCProcedure"/>
    <title value="SDOHCC Procedure"/>
    <status value="draft"/>
    <date value="2020-12-14T04:01:34+00:00"/>
    <description value="Profile for interventions that address Social Determinants of Health."/>
    <jurisdiction>
        <coding>
            <system value="urn:iso:std:iso:3166"/>
            <code value="US"/>
        </coding>
    </jurisdiction>
    <fhirVersion value="4.0.1"/>
    <mapping>
        <identity value="argonaut-dq-dstu2"/>
        <uri value="http://unknown.org/Argonaut-DQ-DSTU2"/>
        <name value="Argonaut-DQ-DSTU2"/>
    </mapping>
    <mapping>
        <identity value="workflow"/>
        <uri value="http://hl7.org/fhir/workflow"/>
        <name value="Workflow Pattern"/>
    </mapping>
    <mapping>
        <identity value="rim"/>
        <uri value="http://hl7.org/v3"/>
        <name value="RIM Mapping"/>
    </mapping>
    <mapping>
        <identity value="w5"/>
        <uri value="http://hl7.org/fhir/fivews"/>
        <name value="FiveWs Pattern Mapping"/>
    </mapping>
    <mapping>
        <identity value="v2"/>
        <uri value="http://hl7.org/v2"/>
        <name value="HL7 v2 Mapping"/>
    </mapping>
    <kind value="resource"/>
    <abstract value="false"/>
    <type value="Procedure"/>
    <baseDefinition value="http://hl7.org/fhir/us/core/StructureDefinition/us-core-procedure"/>
    <derivation value="constraint"/>
    <differential>
        <element id="Procedure">
            <path value="Procedure"/>
            <short value="An action that addresses an SDOH condition, observation, or goal."/>
            <definition value="For procedures that address SDOH conditions, SDOH observations, or SDOH goals."/>
            <comment value="Many of the SDOHCC profiles reference one another. One flow supported by this IG is that QuestionnaireResponses result in Observations that can be used as evidence for Conditions that can lead to Goals, ServiceRequests and Procedures. However, alternatives paths are also possible."/>
        </element>
        <element id="Procedure.extension">
            <path value="Procedure.extension"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="url"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <min value="0"/>
        </element>
        <element id="Procedure.extension:pertainsToGoal">
            <path value="Procedure.extension"/>
            <sliceName value="pertainsToGoal"/>
            <short value="Pertains to SDOH goal"/>
            <definition value="Indicates that the resource is related to either the measurement, achievement or progress towards the referenced goal.  For example, a Procedure to provide food vouchers pertainsToGoal of achieving food security."/>
            <requirements value="Indicates that the procedure is related to the referenced SDOHCC Goal."/>
            <min value="0"/>
            <type>
                <code value="Extension"/>
                <profile value="http://hl7.org/fhir/StructureDefinition/resource-pertainsToGoal"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="Procedure.extension:pertainsToGoal.value[x]">
            <path value="Procedure.extension.value[x]"/>
            <definition value="Value of extension must reference a Goal resource."/>
            <requirements value="Indicates that the procedure is related to the referenced SDOHCC Goal."/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Goal"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="Procedure.basedOn">
            <path value="Procedure.basedOn"/>
            <slicing>
                <discriminator>
                    <type value="profile"/>
                    <path value="resolve()"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <mustSupport value="true"/>
        </element>
        <element id="Procedure.basedOn:SupportedBasedOn">
            <path value="Procedure.basedOn"/>
            <sliceName value="SupportedBasedOn"/>
            <short value="An SDOH service request for this procedure"/>
            <definition value="A reference to an SDOHCC service request that contains details of the request for this procedure."/>
            <requirements value="When a procedure is based on an SDOH ServiceRequest, Procedure.basedOn should reference instances that comply with the SDOHCC ServiceRequest profile. However, references to other instance types are also possible."/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ServiceRequest"/>
            </type>
            <mustSupport value="true"/>
        </element>
        <element id="Procedure.category">
            <path value="Procedure.category"/>
            <definition value="A code that classifies the procedure for searching, sorting and display purposes (e.g. &quot;Social service procedure&quot;)."/>
        </element>
        <element id="Procedure.category.coding">
            <path value="Procedure.category.coding"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="$this"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <mustSupport value="true"/>
        </element>
        <element id="Procedure.category.coding:SDOH">
            <path value="Procedure.category.coding"/>
            <sliceName value="SDOH"/>
            <short value="e.g., food-insecurity | transportation-insecurity"/>
            <definition value="An SDOH category assigned to the procedure."/>
            <requirements value="Allows for alternative encodings within a code system, and translations to other code systems.  &#xD;&#xA;Codes from this value set can be used to assign an SDOH category (e.g., food-insecurity, transportation-insecurity, etc.) to a procedure. It is recommended that SDOH category codes be used to facilitate searching for SDOH procedures that address SDOH conditions, observations, service requests, or goals."/>
            <max value="1"/>
            <mustSupport value="true"/>
            <binding>
                <strength value="required"/>
                <description value="Codes for high-level SDOH categories."/>
                <valueSet value="http://hl7.org/fhir/us/sdoh-clinicalcare/ValueSet/SDOHCC-ValueSetSDOHCategory"/>
            </binding>
        </element>
        <element id="Procedure.code">
            <path value="Procedure.code"/>
            <definition value="The specific procedure that is performed. Use text if the exact nature of the procedure cannot be coded."/>
            <comment value="As the Gravity Project continues to refine content for the SDOH categories (e.g., food, housing, transportation, etc.), this value set will be refined to codes that pertain to SDOH categories."/>
            <binding>
                <strength value="required"/>
            </binding>
        </element>
        <element id="Procedure.performed[x]">
            <path value="Procedure.performed[x]"/>
            <requirements value="NOTE: dateTime should be Must Support, but currenlty tooling does not support this."/>
        </element>
        <element id="Procedure.reasonCode">
            <path value="Procedure.reasonCode"/>
            <comment value="Procedure.reasonCode and Procedure.reasonReference are not meant to be duplicative.  For a single reason, either Procedure.reasonCode or Procedure.reasonReference can be used. Procedure.reasonCode may be a summary code, or Procedure.reasonReference may be used to reference a very precise definition of the reason using Condition | Observation | Procedure | DiagnosticReport | DocumentReference.  Both Procedure.reasonCode and Procedure.reasonReference can be used if they are describing different reasons for the procedure.&#xD;&#xA;&#xD;&#xA;Information represented by Procedure.reasonCode may overlap significantly with information represented by Procedure.reasonReference. Multiple approaches to representing the same information may negatively impact interoperability. Therefore, where similar information could be provided by either Procedure.reasonCode or Procedure.reasonReference, it is recommended that Procedure.reasonReference be used to provide a reason for why a procedure was performed.&#xD;&#xA;&#xD;&#xA;As the Gravity Project continues to refine content for the SDOH categories (e.g., food, housing, transportation, etc.), this value set may be refined to codes that pertain to SDOH categories."/>
        </element>
        <element id="Procedure.reasonReference">
            <path value="Procedure.reasonReference"/>
            <slicing>
                <discriminator>
                    <type value="profile"/>
                    <path value="resolve()"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <comment value="Procedure.reasonCode and Procedure.reasonReference are not meant to be duplicative.  For a single reason, either Procedure.reasonCode or Procedure.reasonReference can be used.  Procedure.reasonCode may be a summary code, or Procedure.reasonReference may be used to reference a very precise definition of the reason using Condition | Observation | Procedure | DiagnosticReport | DocumentReference.  Both Procedure.reasonCode and Procedure.reasonReference can be used if they are describing different reasons for the procedure.&#xD;&#xA;&#xD;&#xA;Additionally, see Comments for reasonCode."/>
        </element>
        <element id="Procedure.reasonReference:SupportedReasonReference">
            <path value="Procedure.reasonReference"/>
            <sliceName value="SupportedReasonReference"/>
            <comment value="Procedure.reasonCode and Procedure.reasonReference are not meant to be duplicative.  For a single reason, either Procedure.reasonCode or Procedure.reasonReference can be used.  Procedure.reasonCode may be a summary code, or Procedure.reasonReference may be used to reference a very precise definition of the reason using Condition | Observation | Procedure | DiagnosticReport | DocumentReference.  Both Procedure.reasonCode and Procedure.reasonReference can be used if they are describing different reasons for the procedure."/>
            <requirements value="When a procedure is justified by one or more SDOH conditions or observations, Procedure.reasonReference should reference instances that comply with the SDOHCC Condition profile, or one of the SDOHCC Observation profiles. However, references to other instance types are also possible."/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-Condition"/>
                <targetProfile value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationScreeningResponse"/>
                <targetProfile value="http://hl7.org/fhir/us/sdoh-clinicalcare/StructureDefinition/SDOHCC-ObservationAssessment"/>
            </type>
            <mustSupport value="true"/>
        </element>
    </differential>
</StructureDefinition>